2025-06-20 07:18:14.018 +05:30 [INF] User profile is available. Using 'C:\Users\2403452\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-20 07:18:14.817 +05:30 [INF] Now listening on: https://localhost:7153
2025-06-20 07:18:14.820 +05:30 [INF] Now listening on: http://localhost:5016
2025-06-20 07:18:15.025 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-20 07:18:15.030 +05:30 [INF] Hosting environment: Development
2025-06-20 07:18:15.033 +05:30 [INF] Content root path: C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend
2025-06-20 07:19:13.009 +05:30 [INF] User profile is available. Using 'C:\Users\2403452\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-20 07:19:13.520 +05:30 [INF] Now listening on: https://localhost:7153
2025-06-20 07:19:13.522 +05:30 [INF] Now listening on: http://localhost:5016
2025-06-20 07:19:13.676 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-20 07:19:13.677 +05:30 [INF] Hosting environment: Development
2025-06-20 07:19:13.679 +05:30 [INF] Content root path: C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend
2025-06-20 07:31:52.754 +05:30 [INF] User profile is available. Using 'C:\Users\2403452\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-20 07:31:53.327 +05:30 [INF] Now listening on: https://localhost:7153
2025-06-20 07:31:53.329 +05:30 [INF] Now listening on: http://localhost:5016
2025-06-20 07:31:53.460 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-20 07:31:53.461 +05:30 [INF] Hosting environment: Development
2025-06-20 07:31:53.462 +05:30 [INF] Content root path: C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend
2025-06-20 07:32:14.183 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-06-20 07:32:14.674 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 502.1567ms
2025-06-20 07:32:16.178 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-06-20 07:32:16.190 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 12.308ms
2025-06-20 07:32:16.265 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-06-20 07:32:16.351 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.4964ms
2025-06-20 07:32:16.449 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-06-20 07:32:16.608 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 159.246ms
2025-06-20 07:35:21.552 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Auth/getRole - null null
2025-06-20 07:35:21.572 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:35:23.396 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer|Admin|Agent)
2025-06-20 07:35:23.403 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-20 07:35:23.407 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Auth/getRole - 401 0 null 1855.5194ms
2025-06-20 07:35:46.239 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7153/api/Auth/login - null null
2025-06-20 07:35:46.251 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:35:46.254 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7153/api/Auth/login - 204 null null 15.2941ms
2025-06-20 07:35:46.261 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Auth/login - application/json 49
2025-06-20 07:35:46.272 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:35:46.281 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-06-20 07:35:46.320 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-06-20 07:35:47.309 +05:30 [INF] Attempting login for username: Krishna_20
2025-06-20 07:35:52.345 +05:30 [INF] Executed DbCommand (382ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username], [u0].[UserId], [u0].[RoleId], [u0].[CreatedAt], [u0].[CreatedBy], [u0].[UpdatedAt], [u0].[UpdatedBy], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-06-20 07:35:52.886 +05:30 [INF] User 'Krishna_20' (User ID: "46b23b43-59a2-4b06-a046-7693c706a883", Role: Admin) logged in successfully.
2025-06-20 07:35:52.901 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:35:52.912 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 6583.3936ms
2025-06-20 07:35:52.917 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-06-20 07:35:52.930 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Auth/login - 200 null application/json; charset=utf-8 6672.5955ms
2025-06-20 07:36:04.104 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/customers?page=1&size=10 - null null
2025-06-20 07:36:04.107 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:04.180 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:04.189 +05:30 [INF] Route matched with {action = "GetAllCustomers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCustomers(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:04.207 +05:30 [INF] Attempting to retrieve all customers. Page: 1, Size: 10
2025-06-20 07:36:04.306 +05:30 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Address], [c].[CreatedAt], [c].[CreatedBy], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UpdatedAt], [c].[UpdatedBy], [c].[UserId], [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username]
FROM [Customers] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
2025-06-20 07:36:04.343 +05:30 [INF] Successfully retrieved 1 customers for page 1.
2025-06-20 07:36:04.346 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:36:04.361 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi) in 169.3146ms
2025-06-20 07:36:04.364 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/customers?page=1&size=10 - null null
2025-06-20 07:36:04.365 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:04.369 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:04.369 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/customers?page=1&size=10 - 200 null application/json; charset=utf-8 265.1455ms
2025-06-20 07:36:04.373 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:04.376 +05:30 [INF] Route matched with {action = "GetAllCustomers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCustomers(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:04.382 +05:30 [INF] Attempting to retrieve all customers. Page: 1, Size: 10
2025-06-20 07:36:04.472 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Address], [c].[CreatedAt], [c].[CreatedBy], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UpdatedAt], [c].[UpdatedBy], [c].[UserId], [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username]
FROM [Customers] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
2025-06-20 07:36:04.476 +05:30 [INF] Successfully retrieved 1 customers for page 1.
2025-06-20 07:36:04.477 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:36:04.479 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi) in 101.1653ms
2025-06-20 07:36:04.481 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:04.483 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/customers?page=1&size=10 - 200 null application/json; charset=utf-8 118.8359ms
2025-06-20 07:36:07.659 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/agents?page=1&size=5 - null null
2025-06-20 07:36:07.662 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:07.663 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:07.669 +05:30 [INF] Route matched with {action = "GetAllAgents", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAgents(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:07.687 +05:30 [INF] Attempting to retrieve all agents. Page: 1, Size: 5
2025-06-20 07:36:07.722 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username]
FROM [Agents] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserId] = [u].[Id]
2025-06-20 07:36:07.748 +05:30 [INF] Successfully retrieved 1 agents for page 1.
2025-06-20 07:36:07.751 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AgentProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:36:07.758 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi) in 83.6201ms
2025-06-20 07:36:07.760 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:07.763 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/agents?page=1&size=5 - 200 null application/json; charset=utf-8 103.9875ms
2025-06-20 07:36:12.447 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - null null
2025-06-20 07:36:12.449 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:12.451 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:12.462 +05:30 [INF] Route matched with {action = "GetAllClaims", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer]]] GetAllClaims(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:12.474 +05:30 [INF] Attempting to retrieve all claims. Page: 1, Size: 10
2025-06-20 07:36:12.751 +05:30 [INF] Executed DbCommand (216ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CreatedAt], [c].[CreatedBy], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [c].[UpdatedAt], [c].[UpdatedBy], [c0].[CustomerId], [c0].[Address], [c0].[CreatedAt], [c0].[CreatedBy], [c0].[DateOfBirth], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[UpdatedAt], [c0].[UpdatedBy], [c0].[UserId], [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[CreatedAt], [a0].[CreatedBy], [a0].[Name], [a0].[UpdatedAt], [a0].[UpdatedBy], [a0].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Customers] AS [c0] ON [c].[CustomerId] = [c0].[CustomerId]
LEFT JOIN [Agents] AS [a] ON [c].[AgentId] = [a].[AgentId]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
2025-06-20 07:36:12.755 +05:30 [WRN] No claims found on page 1 with size 10.
2025-06-20 07:36:12.759 +05:30 [INF] Executing NotFoundObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForAdmin, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:36:12.766 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi) in 298.4574ms
2025-06-20 07:36:12.768 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - null null
2025-06-20 07:36:12.769 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:12.772 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:12.773 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - 404 null application/json; charset=utf-8 326.62ms
2025-06-20 07:36:12.775 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:12.780 +05:30 [INF] Route matched with {action = "GetAllClaims", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer]]] GetAllClaims(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:12.784 +05:30 [INF] Attempting to retrieve all claims. Page: 1, Size: 10
2025-06-20 07:36:12.796 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CreatedAt], [c].[CreatedBy], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [c].[UpdatedAt], [c].[UpdatedBy], [c0].[CustomerId], [c0].[Address], [c0].[CreatedAt], [c0].[CreatedBy], [c0].[DateOfBirth], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[UpdatedAt], [c0].[UpdatedBy], [c0].[UserId], [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[CreatedAt], [a0].[CreatedBy], [a0].[Name], [a0].[UpdatedAt], [a0].[UpdatedBy], [a0].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Customers] AS [c0] ON [c].[CustomerId] = [c0].[CustomerId]
LEFT JOIN [Agents] AS [a] ON [c].[AgentId] = [a].[AgentId]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
2025-06-20 07:36:12.799 +05:30 [WRN] No claims found on page 1 with size 10.
2025-06-20 07:36:12.801 +05:30 [INF] Executing NotFoundObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForAdmin, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:36:12.804 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi) in 20.6754ms
2025-06-20 07:36:12.809 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:12.813 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - 404 null application/json; charset=utf-8 44.8746ms
2025-06-20 07:36:15.882 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - null null
2025-06-20 07:36:15.886 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:15.889 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:15.896 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:15.903 +05:30 [INF] Attempting to retrieve all available policies. Page: 1, Size: 10
2025-06-20 07:36:15.941 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-06-20 07:36:15.968 +05:30 [INF] Successfully retrieved 10 available policies for page 1.
2025-06-20 07:36:15.969 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:36:15.977 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 77.2341ms
2025-06-20 07:36:15.979 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - null null
2025-06-20 07:36:15.979 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:15.982 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:15.983 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - 200 null application/json; charset=utf-8 101.0066ms
2025-06-20 07:36:15.985 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:15.990 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:15.993 +05:30 [INF] Attempting to retrieve all available policies. Page: 1, Size: 10
2025-06-20 07:36:16.004 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-06-20 07:36:16.010 +05:30 [INF] Successfully retrieved 10 available policies for page 1.
2025-06-20 07:36:16.013 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:36:16.016 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 23.9811ms
2025-06-20 07:36:16.019 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:16.021 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - 200 null application/json; charset=utf-8 42.3353ms
2025-06-20 07:36:23.757 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/users - null null
2025-06-20 07:36:23.759 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:23.760 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:23.767 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InsurenceManagementSystemWebApi.Applications.DTOs.UserWithRoleResponseDto]]] GetAllUsers() on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:23.774 +05:30 [INF] Attempting to retrieve all users with roles.
2025-06-20 07:36:23.809 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username], [u0].[UserId], [u0].[RoleId], [u0].[CreatedAt], [u0].[CreatedBy], [u0].[UpdatedAt], [u0].[UpdatedBy], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
2025-06-20 07:36:23.818 +05:30 [INF] Successfully retrieved 3 users with roles.
2025-06-20 07:36:23.820 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.UserWithRoleResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 07:36:23.824 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi) in 52.0492ms
2025-06-20 07:36:23.826 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:23.828 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/users - 200 null application/json; charset=utf-8 71.0574ms
2025-06-20 07:36:34.204 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - null null
2025-06-20 07:36:34.207 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:34.208 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:34.209 +05:30 [INF] Route matched with {action = "GetAllClaims", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer]]] GetAllClaims(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:34.213 +05:30 [INF] Attempting to retrieve all claims. Page: 1, Size: 10
2025-06-20 07:36:34.265 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CreatedAt], [c].[CreatedBy], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [c].[UpdatedAt], [c].[UpdatedBy], [c0].[CustomerId], [c0].[Address], [c0].[CreatedAt], [c0].[CreatedBy], [c0].[DateOfBirth], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[UpdatedAt], [c0].[UpdatedBy], [c0].[UserId], [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[CreatedAt], [a0].[CreatedBy], [a0].[Name], [a0].[UpdatedAt], [a0].[UpdatedBy], [a0].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Customers] AS [c0] ON [c].[CustomerId] = [c0].[CustomerId]
LEFT JOIN [Agents] AS [a] ON [c].[AgentId] = [a].[AgentId]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
2025-06-20 07:36:34.269 +05:30 [WRN] No claims found on page 1 with size 10.
2025-06-20 07:36:34.271 +05:30 [INF] Executing NotFoundObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForAdmin, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:36:34.273 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi) in 59.9547ms
2025-06-20 07:36:34.277 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - null null
2025-06-20 07:36:34.277 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:34.286 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:34.289 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - 404 null application/json; charset=utf-8 84.637ms
2025-06-20 07:36:34.291 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:34.296 +05:30 [INF] Route matched with {action = "GetAllClaims", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer]]] GetAllClaims(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:34.301 +05:30 [INF] Attempting to retrieve all claims. Page: 1, Size: 10
2025-06-20 07:36:34.317 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CreatedAt], [c].[CreatedBy], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [c].[UpdatedAt], [c].[UpdatedBy], [c0].[CustomerId], [c0].[Address], [c0].[CreatedAt], [c0].[CreatedBy], [c0].[DateOfBirth], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[UpdatedAt], [c0].[UpdatedBy], [c0].[UserId], [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[CreatedAt], [a0].[CreatedBy], [a0].[Name], [a0].[UpdatedAt], [a0].[UpdatedBy], [a0].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Customers] AS [c0] ON [c].[CustomerId] = [c0].[CustomerId]
LEFT JOIN [Agents] AS [a] ON [c].[AgentId] = [a].[AgentId]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
2025-06-20 07:36:34.321 +05:30 [WRN] No claims found on page 1 with size 10.
2025-06-20 07:36:34.323 +05:30 [INF] Executing NotFoundObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForAdmin, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:36:34.325 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi) in 25.0759ms
2025-06-20 07:36:34.328 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:34.330 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - 404 null application/json; charset=utf-8 54.4218ms
2025-06-20 07:36:38.185 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - null null
2025-06-20 07:36:38.190 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:38.192 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:38.193 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:38.198 +05:30 [INF] Attempting to retrieve all available policies. Page: 1, Size: 10
2025-06-20 07:36:38.213 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-06-20 07:36:38.219 +05:30 [INF] Successfully retrieved 10 available policies for page 1.
2025-06-20 07:36:38.221 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:36:38.224 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 26.7445ms
2025-06-20 07:36:38.226 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - null null
2025-06-20 07:36:38.227 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:38.230 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:38.232 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - 200 null application/json; charset=utf-8 47.0081ms
2025-06-20 07:36:38.234 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:38.241 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:38.245 +05:30 [INF] Attempting to retrieve all available policies. Page: 1, Size: 10
2025-06-20 07:36:38.253 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-06-20 07:36:38.260 +05:30 [INF] Successfully retrieved 10 available policies for page 1.
2025-06-20 07:36:38.263 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:36:38.269 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 24.7457ms
2025-06-20 07:36:38.274 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:38.277 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - 200 null application/json; charset=utf-8 51.7794ms
2025-06-20 07:36:48.716 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7153/api/Admin/1/available-policy - null null
2025-06-20 07:36:48.718 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:48.720 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7153/api/Admin/1/available-policy - 204 null null 3.8709ms
2025-06-20 07:36:48.722 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Admin/1/available-policy - application/json 120
2025-06-20 07:36:48.734 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:48.737 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.UpdateAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:48.744 +05:30 [INF] Route matched with {action = "UpdateAvailablePolicy", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAvailablePolicy(InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyRequestDto, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:48.766 +05:30 [INF] Attempting to update available policy with ID: 1
2025-06-20 07:36:48.815 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
WHERE [a].[AvailablePolicyId] = @__p_0
2025-06-20 07:36:49.006 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AvailablePolicies] SET [BasePremium] = @p0, [CoverageDetails] = @p1, [CreatedAt] = @p2, [CreatedBy] = @p3, [Name] = @p4, [UpdatedAt] = @p5, [UpdatedBy] = @p6, [ValidityPeriod] = @p7
OUTPUT 1
WHERE [AvailablePolicyId] = @p8;
2025-06-20 07:36:49.021 +05:30 [INF] Available policy with ID 1 updated successfully.
2025-06-20 07:36:49.023 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 07:36:49.025 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.UpdateAvailablePolicy (InsurenceManagementSystemWebApi) in 275.3653ms
2025-06-20 07:36:49.027 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.UpdateAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:49.028 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Admin/1/available-policy - 200 null application/json; charset=utf-8 306.4338ms
2025-06-20 07:36:52.345 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Auth/getRole - null null
2025-06-20 07:36:52.353 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:52.355 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.GetRole (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:52.359 +05:30 [INF] Route matched with {action = "GetRole", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:52.404 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 07:36:52.407 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.GetRole (InsurenceManagementSystemWebApi) in 44.0514ms
2025-06-20 07:36:52.410 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.GetRole (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:52.411 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Auth/getRole - 200 null application/json; charset=utf-8 65.7699ms
2025-06-20 07:36:52.466 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - null null
2025-06-20 07:36:52.470 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:52.472 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:52.475 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:52.480 +05:30 [INF] Attempting to retrieve all available policies. Page: 1, Size: 10
2025-06-20 07:36:52.500 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-06-20 07:36:52.504 +05:30 [INF] Successfully retrieved 10 available policies for page 1.
2025-06-20 07:36:52.508 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:36:52.510 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 31.0492ms
2025-06-20 07:36:52.513 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - null null
2025-06-20 07:36:52.513 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:52.517 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:52.519 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - 200 null application/json; charset=utf-8 53.4668ms
2025-06-20 07:36:52.522 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:52.535 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:52.538 +05:30 [INF] Attempting to retrieve all available policies. Page: 1, Size: 10
2025-06-20 07:36:52.562 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-06-20 07:36:52.565 +05:30 [INF] Successfully retrieved 10 available policies for page 1.
2025-06-20 07:36:52.567 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:36:52.569 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 31.4173ms
2025-06-20 07:36:52.571 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:52.573 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - 200 null application/json; charset=utf-8 60.383ms
2025-06-20 07:36:58.483 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7153/api/Admin/1/available-policy - null null
2025-06-20 07:36:58.486 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:58.488 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7153/api/Admin/1/available-policy - 204 null null 5.6824ms
2025-06-20 07:36:58.490 +05:30 [INF] Request starting HTTP/2 DELETE https://localhost:7153/api/Admin/1/available-policy - null null
2025-06-20 07:36:58.498 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:36:58.500 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.DeleteAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-06-20 07:36:58.504 +05:30 [INF] Route matched with {action = "DeleteAvailablePolicy", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAvailablePolicy(Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:36:58.510 +05:30 [INF] Attempting to delete available policy with ID: 1
2025-06-20 07:36:58.562 +05:30 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
WHERE [a].[AvailablePolicyId] = @__p_0
2025-06-20 07:36:59.250 +05:30 [INF] Executed DbCommand (662ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [AvailablePolicies]
OUTPUT 1
WHERE [AvailablePolicyId] = @p0;
2025-06-20 07:36:59.310 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'InsurenceManagementSystemWebApi.Infrastructure.Persistance.InsuranceDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Policies_AvailablePolicies_AvailablePolicyId". The conflict occurred in database "InsuranceManagementSystem", table "dbo.Policies", column 'AvailablePolicyId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7ebe18dc-7bb8-4532-83cb-d3d0046027d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Policies_AvailablePolicies_AvailablePolicyId". The conflict occurred in database "InsuranceManagementSystem", table "dbo.Policies", column 'AvailablePolicyId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7ebe18dc-7bb8-4532-83cb-d3d0046027d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-20 07:36:59.512 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.DeleteAvailablePolicy (InsurenceManagementSystemWebApi) in 1004.6714ms
2025-06-20 07:36:59.515 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.DeleteAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-06-20 07:37:14.339 +05:30 [ERR] An error occurred.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Policies_AvailablePolicies_AvailablePolicyId". The conflict occurred in database "InsuranceManagementSystem", table "dbo.Policies", column 'AvailablePolicyId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7ebe18dc-7bb8-4532-83cb-d3d0046027d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at InsurenceManagementSystemWebApi.Infrastructure.Persistance.InsuranceDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Infrastructure\Persistance\InsuranceDbContext.cs:line 159
   at InsurenceManagementSystemWebApi.Infrastructure.Persistance.Repositories.AvailablePolicyRepository.DeleteAsync(Int32 id) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Infrastructure\Persistance\Repositories\AvailablePolicyRepository.cs:line 73
   at InsurenceManagementSystemWebApi.Applications.Services.AdminService.DeleteAvailablePolicyAsync(Int32 id) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Applications\Services\AdminService.cs:line 274
   at InsurenceManagementSystemWebApi.Controllers.AdminController.DeleteAvailablePolicy(Int32 id) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Controllers\AdminController.cs:line 240
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at InsurenceManagementSystemWebApi.Applications.MiddleWares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Applications\MiddleWares\ExceptionMiddleware.cs:line 32
2025-06-20 07:37:14.603 +05:30 [INF] Request finished HTTP/2 DELETE https://localhost:7153/api/Admin/1/available-policy - 500 null application/json 16113.4048ms
2025-06-20 07:37:20.117 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7153/api/Admin/1/available-policy - null null
2025-06-20 07:37:20.121 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:37:20.125 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7153/api/Admin/1/available-policy - 204 null null 8.1489ms
2025-06-20 07:37:20.128 +05:30 [INF] Request starting HTTP/2 DELETE https://localhost:7153/api/Admin/1/available-policy - null null
2025-06-20 07:37:20.132 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:37:20.134 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.DeleteAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-06-20 07:37:20.136 +05:30 [INF] Route matched with {action = "DeleteAvailablePolicy", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAvailablePolicy(Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:37:20.140 +05:30 [INF] Attempting to delete available policy with ID: 1
2025-06-20 07:37:20.149 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
WHERE [a].[AvailablePolicyId] = @__p_0
2025-06-20 07:37:20.163 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [AvailablePolicies]
OUTPUT 1
WHERE [AvailablePolicyId] = @p0;
2025-06-20 07:37:20.170 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'InsurenceManagementSystemWebApi.Infrastructure.Persistance.InsuranceDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Policies_AvailablePolicies_AvailablePolicyId". The conflict occurred in database "InsuranceManagementSystem", table "dbo.Policies", column 'AvailablePolicyId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7ebe18dc-7bb8-4532-83cb-d3d0046027d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Policies_AvailablePolicies_AvailablePolicyId". The conflict occurred in database "InsuranceManagementSystem", table "dbo.Policies", column 'AvailablePolicyId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7ebe18dc-7bb8-4532-83cb-d3d0046027d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-20 07:37:20.311 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.DeleteAvailablePolicy (InsurenceManagementSystemWebApi) in 171.4385ms
2025-06-20 07:37:20.314 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.DeleteAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-06-20 07:37:20.401 +05:30 [ERR] An error occurred.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Policies_AvailablePolicies_AvailablePolicyId". The conflict occurred in database "InsuranceManagementSystem", table "dbo.Policies", column 'AvailablePolicyId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7ebe18dc-7bb8-4532-83cb-d3d0046027d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at InsurenceManagementSystemWebApi.Infrastructure.Persistance.InsuranceDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Infrastructure\Persistance\InsuranceDbContext.cs:line 159
   at InsurenceManagementSystemWebApi.Infrastructure.Persistance.Repositories.AvailablePolicyRepository.DeleteAsync(Int32 id) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Infrastructure\Persistance\Repositories\AvailablePolicyRepository.cs:line 73
   at InsurenceManagementSystemWebApi.Applications.Services.AdminService.DeleteAvailablePolicyAsync(Int32 id) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Applications\Services\AdminService.cs:line 274
   at InsurenceManagementSystemWebApi.Controllers.AdminController.DeleteAvailablePolicy(Int32 id) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Controllers\AdminController.cs:line 240
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at InsurenceManagementSystemWebApi.Applications.MiddleWares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Applications\MiddleWares\ExceptionMiddleware.cs:line 32
2025-06-20 07:37:20.437 +05:30 [INF] Request finished HTTP/2 DELETE https://localhost:7153/api/Admin/1/available-policy - 500 null application/json 308.8738ms
2025-06-20 07:37:27.786 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Auth/getRole - null null
2025-06-20 07:37:27.792 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:37:27.794 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.GetRole (InsurenceManagementSystemWebApi)'
2025-06-20 07:37:27.800 +05:30 [INF] Route matched with {action = "GetRole", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-06-20 07:37:27.808 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 07:37:27.810 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.GetRole (InsurenceManagementSystemWebApi) in 3.1621ms
2025-06-20 07:37:27.814 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.GetRole (InsurenceManagementSystemWebApi)'
2025-06-20 07:37:27.817 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Auth/getRole - 200 null application/json; charset=utf-8 31.7278ms
2025-06-20 07:37:27.872 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - null null
2025-06-20 07:37:27.875 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:37:27.876 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:37:27.878 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:37:27.885 +05:30 [INF] Attempting to retrieve all available policies. Page: 1, Size: 10
2025-06-20 07:37:27.898 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-06-20 07:37:27.903 +05:30 [INF] Successfully retrieved 10 available policies for page 1.
2025-06-20 07:37:27.905 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:37:27.907 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 23.0219ms
2025-06-20 07:37:27.910 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - null null
2025-06-20 07:37:27.910 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:37:27.913 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:37:27.918 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - 200 null application/json; charset=utf-8 45.6685ms
2025-06-20 07:37:27.933 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:37:27.939 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:37:27.943 +05:30 [INF] Attempting to retrieve all available policies. Page: 1, Size: 10
2025-06-20 07:37:27.958 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-06-20 07:37:27.962 +05:30 [INF] Successfully retrieved 10 available policies for page 1.
2025-06-20 07:37:27.966 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:37:27.970 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 26.8599ms
2025-06-20 07:37:27.974 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:37:27.975 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - 200 null application/json; charset=utf-8 65.8148ms
2025-06-20 07:37:31.597 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/policy-requests?page=1&size=20 - null null
2025-06-20 07:37:31.600 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:37:31.602 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllPolicyRequests (InsurenceManagementSystemWebApi)'
2025-06-20 07:37:31.609 +05:30 [INF] Route matched with {action = "GetAllPolicyRequests", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PolicyRequestStatusResponseDto]]] GetAllPolicyRequests(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 07:37:31.619 +05:30 [INF] Attempting to retrieve all policy requests. Page: 1, Size: 20
2025-06-20 07:37:31.674 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[RequestId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[RequestedOn], [p].[Status], [p].[UpdatedAt], [p].[UpdatedBy], [c].[CustomerId], [c].[Address], [c].[CreatedAt], [c].[CreatedBy], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UpdatedAt], [c].[UpdatedBy], [c].[UserId], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [PolicyRequests] AS [p]
INNER JOIN [Customers] AS [c] ON [p].[CustomerId] = [c].[CustomerId]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
2025-06-20 07:37:31.695 +05:30 [INF] Successfully retrieved 1 policy requests for page 1.
2025-06-20 07:37:31.697 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PolicyRequestStatusResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:37:31.701 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllPolicyRequests (InsurenceManagementSystemWebApi) in 85.3902ms
2025-06-20 07:37:31.704 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllPolicyRequests (InsurenceManagementSystemWebApi)'
2025-06-20 07:37:31.705 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/policy-requests?page=1&size=20 - 200 null application/json; charset=utf-8 108.678ms
2025-06-20 07:37:51.447 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7153/api/Auth/logout - null null
2025-06-20 07:37:51.452 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:37:51.453 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7153/api/Auth/logout - 204 null null 6.7927ms
2025-06-20 07:37:51.455 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Auth/logout - application/json 2
2025-06-20 07:37:51.459 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:37:51.460 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Logout (InsurenceManagementSystemWebApi)'
2025-06-20 07:37:51.464 +05:30 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[System.String]] Logout() on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-06-20 07:37:51.471 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 07:37:51.473 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Logout (InsurenceManagementSystemWebApi) in 4.2864ms
2025-06-20 07:37:51.474 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Logout (InsurenceManagementSystemWebApi)'
2025-06-20 07:37:51.476 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Auth/logout - 200 null application/json; charset=utf-8 20.6349ms
2025-06-20 07:38:16.308 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7153/api/Auth/login - null null
2025-06-20 07:38:16.311 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:38:16.311 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7153/api/Auth/login - 204 null null 3.5046ms
2025-06-20 07:38:16.313 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Auth/login - application/json 51
2025-06-20 07:38:16.323 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:38:16.325 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:16.328 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-06-20 07:38:16.335 +05:30 [INF] Attempting login for username: Rathna_2004
2025-06-20 07:38:16.362 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username], [u0].[UserId], [u0].[RoleId], [u0].[CreatedAt], [u0].[CreatedBy], [u0].[UpdatedAt], [u0].[UpdatedBy], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-06-20 07:38:16.655 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[CreatedAt], [c].[CreatedBy], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UpdatedAt], [c].[UpdatedBy], [c].[UserId]
FROM [Customers] AS [c]
WHERE [c].[UserId] = @__userId_0
2025-06-20 07:38:16.659 +05:30 [INF] User 'Rathna_2004' (User ID: "8f359361-c940-4177-83e0-b8ef6162cb3d", Role: Customer) logged in successfully.
2025-06-20 07:38:16.661 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:38:16.664 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 329.9238ms
2025-06-20 07:38:16.666 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:16.669 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Auth/login - 200 null application/json; charset=utf-8 356.6594ms
2025-06-20 07:38:18.925 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Customer/available-policies?page=1&size=10 - null null
2025-06-20 07:38:18.926 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Customer/profile - null null
2025-06-20 07:38:18.936 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:38:18.943 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:38:18.944 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:18.946 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetProfile (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:18.955 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto]]] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-06-20 07:38:18.958 +05:30 [INF] Route matched with {action = "GetProfile", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProfile() on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-06-20 07:38:18.963 +05:30 [INF] Attempting to retrieve all available policies for customer. Page: 1, Size: 10
2025-06-20 07:38:18.965 +05:30 [INF] Attempting to retrieve customer profile.
2025-06-20 07:38:18.974 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-06-20 07:38:18.979 +05:30 [INF] Successfully retrieved 10 available policies for page 1.
2025-06-20 07:38:18.984 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:38:18.990 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 31.964ms
2025-06-20 07:38:18.994 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Customer/available-policies?page=1&size=10 - null null
2025-06-20 07:38:18.995 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:19.002 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:38:19.003 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Customer/available-policies?page=1&size=10 - 200 null application/json; charset=utf-8 78.4846ms
2025-06-20 07:38:19.005 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:19.016 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto]]] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-06-20 07:38:19.022 +05:30 [INF] Attempting to retrieve all available policies for customer. Page: 1, Size: 10
2025-06-20 07:38:19.022 +05:30 [INF] Executed DbCommand (38ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[CreatedAt], [c].[CreatedBy], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UpdatedAt], [c].[UpdatedBy], [c].[UserId], [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username]
FROM [Customers] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
WHERE [c].[CustomerId] = @__customerId_0
2025-06-20 07:38:19.035 +05:30 [INF] Successfully retrieved customer profile for Customer ID 1.
2025-06-20 07:38:19.037 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:38:19.040 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetProfile (InsurenceManagementSystemWebApi) in 77.9435ms
2025-06-20 07:38:19.043 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetProfile (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:19.045 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Customer/profile - 200 null application/json; charset=utf-8 118.9845ms
2025-06-20 07:38:19.122 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-06-20 07:38:19.125 +05:30 [INF] Successfully retrieved 10 available policies for page 1.
2025-06-20 07:38:19.126 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 07:38:19.130 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 110.8015ms
2025-06-20 07:38:19.133 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:19.135 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Customer/available-policies?page=1&size=10 - 200 null application/json; charset=utf-8 143.1448ms
2025-06-20 07:38:20.748 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Customer/policy-requests - null null
2025-06-20 07:38:20.750 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:38:20.752 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetPolicyRequests (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:20.758 +05:30 [INF] Route matched with {action = "GetPolicyRequests", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPolicyRequests() on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-06-20 07:38:20.765 +05:30 [INF] Attempting to retrieve policy requests for customer.
2025-06-20 07:38:20.831 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[RequestId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[RequestedOn], [p].[Status], [p].[UpdatedAt], [p].[UpdatedBy], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [PolicyRequests] AS [p]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
WHERE [p].[CustomerId] = @__customerId_0
2025-06-20 07:38:20.834 +05:30 [INF] Successfully retrieved 1 policy requests for Customer ID 1.
2025-06-20 07:38:20.836 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PolicyRequestStatusResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 07:38:20.840 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetPolicyRequests (InsurenceManagementSystemWebApi) in 75.9995ms
2025-06-20 07:38:20.842 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetPolicyRequests (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:20.843 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Customer/policy-requests - 200 null application/json; charset=utf-8 95.593ms
2025-06-20 07:38:22.732 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Customer/policies - null null
2025-06-20 07:38:22.735 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:38:22.737 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:22.741 +05:30 [INF] Route matched with {action = "GetRegisteredPolicies", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRegisteredPolicies() on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-06-20 07:38:22.749 +05:30 [INF] Attempting to retrieve registered policies for customer.
2025-06-20 07:38:22.808 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[CreatedAt], [a0].[CreatedBy], [a0].[Name], [a0].[UpdatedAt], [a0].[UpdatedBy], [a0].[ValidityPeriod]
FROM [Policies] AS [p]
INNER JOIN [Agents] AS [a] ON [p].[AgentId] = [a].[AgentId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
WHERE [p].[CustomerId] = @__customerId_0
2025-06-20 07:38:22.834 +05:30 [INF] Successfully retrieved 1 registered policies for Customer ID 1.
2025-06-20 07:38:22.836 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerPoliciesResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 07:38:22.841 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi) in 94.6521ms
2025-06-20 07:38:22.844 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:22.847 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Customer/policies - 200 null application/json; charset=utf-8 114.3794ms
2025-06-20 07:38:24.539 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Customer/claims - null null
2025-06-20 07:38:24.542 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:38:24.544 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyClaims (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:24.549 +05:30 [INF] Route matched with {action = "GetMyClaims", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyClaims() on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-06-20 07:38:24.557 +05:30 [INF] Attempting to retrieve claims for customer.
2025-06-20 07:38:24.604 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CreatedAt], [c].[CreatedBy], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [c].[UpdatedAt], [c].[UpdatedBy], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
WHERE [c].[CustomerId] = @__customerId_0
2025-06-20 07:38:24.607 +05:30 [INF] No claims found for Customer ID 1.
2025-06-20 07:38:24.608 +05:30 [INF] Executing NotFoundObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 07:38:24.613 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyClaims (InsurenceManagementSystemWebApi) in 58.3642ms
2025-06-20 07:38:24.615 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyClaims (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:24.616 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Customer/claims - 404 null application/json; charset=utf-8 78.0038ms
2025-06-20 07:38:28.144 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Customer/policies - null null
2025-06-20 07:38:28.148 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:38:28.150 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:28.152 +05:30 [INF] Route matched with {action = "GetRegisteredPolicies", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRegisteredPolicies() on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-06-20 07:38:28.156 +05:30 [INF] Attempting to retrieve registered policies for customer.
2025-06-20 07:38:28.184 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[CreatedAt], [a0].[CreatedBy], [a0].[Name], [a0].[UpdatedAt], [a0].[UpdatedBy], [a0].[ValidityPeriod]
FROM [Policies] AS [p]
INNER JOIN [Agents] AS [a] ON [p].[AgentId] = [a].[AgentId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
WHERE [p].[CustomerId] = @__customerId_0
2025-06-20 07:38:28.189 +05:30 [INF] Successfully retrieved 1 registered policies for Customer ID 1.
2025-06-20 07:38:28.191 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerPoliciesResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 07:38:28.195 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi) in 39.106ms
2025-06-20 07:38:28.198 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:28.199 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Customer/policies - 200 null application/json; charset=utf-8 55.8678ms
2025-06-20 07:38:52.271 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7153/api/Customer/file-claim - null null
2025-06-20 07:38:52.274 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:38:52.275 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7153/api/Customer/file-claim - 204 null null 3.7967ms
2025-06-20 07:38:52.277 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Customer/file-claim - application/json 51
2025-06-20 07:38:52.294 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:38:52.296 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.FileClaim (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:52.301 +05:30 [INF] Route matched with {action = "FileClaim", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FileClaim(InsurenceManagementSystemWebApi.Applications.DTOs.ClaimFilingRequestDtoForCustomer) on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-06-20 07:38:52.309 +05:30 [INF] Customer attempting to file a claim for Policy ID: 1, Customer ID: 1
2025-06-20 07:38:52.490 +05:30 [INF] Executed DbCommand (108ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2), @p9='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Claims] ([AgentId], [ClaimAmount], [CreatedAt], [CreatedBy], [CustomerId], [FiledDate], [PolicyId], [Status], [UpdatedAt], [UpdatedBy])
OUTPUT INSERTED.[ClaimId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-06-20 07:38:52.506 +05:30 [INF] Claim filed successfully for Policy ID 1, Customer ID 1. Claim ID: 1
2025-06-20 07:38:52.508 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 07:38:52.509 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.FileClaim (InsurenceManagementSystemWebApi) in 204.6596ms
2025-06-20 07:38:52.512 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.FileClaim (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:52.514 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Customer/file-claim - 200 null application/json; charset=utf-8 236.9309ms
2025-06-20 07:38:52.532 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Customer/claims - null null
2025-06-20 07:38:52.537 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:38:52.539 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyClaims (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:52.541 +05:30 [INF] Route matched with {action = "GetMyClaims", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyClaims() on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-06-20 07:38:52.548 +05:30 [INF] Attempting to retrieve claims for customer.
2025-06-20 07:38:52.655 +05:30 [INF] Executed DbCommand (103ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CreatedAt], [c].[CreatedBy], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [c].[UpdatedAt], [c].[UpdatedBy], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
WHERE [c].[CustomerId] = @__customerId_0
2025-06-20 07:38:52.664 +05:30 [INF] Successfully retrieved 1 claims for Customer ID 1.
2025-06-20 07:38:52.666 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 07:38:52.669 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyClaims (InsurenceManagementSystemWebApi) in 121.6809ms
2025-06-20 07:38:52.672 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyClaims (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:52.674 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Customer/claims - 200 null application/json; charset=utf-8 142.4888ms
2025-06-20 07:38:57.338 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Customer/policy-requests - null null
2025-06-20 07:38:57.342 +05:30 [INF] CORS policy execution successful.
2025-06-20 07:38:57.345 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetPolicyRequests (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:57.347 +05:30 [INF] Route matched with {action = "GetPolicyRequests", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPolicyRequests() on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-06-20 07:38:57.350 +05:30 [INF] Attempting to retrieve policy requests for customer.
2025-06-20 07:38:57.377 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[RequestId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[RequestedOn], [p].[Status], [p].[UpdatedAt], [p].[UpdatedBy], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [PolicyRequests] AS [p]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
WHERE [p].[CustomerId] = @__customerId_0
2025-06-20 07:38:57.383 +05:30 [INF] Successfully retrieved 1 policy requests for Customer ID 1.
2025-06-20 07:38:57.385 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PolicyRequestStatusResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 07:38:57.387 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetPolicyRequests (InsurenceManagementSystemWebApi) in 37.8907ms
2025-06-20 07:38:57.390 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetPolicyRequests (InsurenceManagementSystemWebApi)'
2025-06-20 07:38:57.392 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Customer/policy-requests - 200 null application/json; charset=utf-8 54.3158ms
2025-06-20 10:16:15.899 +05:30 [INF] User profile is available. Using 'C:\Users\2403452\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-20 10:16:16.575 +05:30 [INF] Now listening on: https://localhost:7153
2025-06-20 10:16:16.577 +05:30 [INF] Now listening on: http://localhost:5016
2025-06-20 10:16:17.044 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-20 10:16:17.046 +05:30 [INF] Hosting environment: Development
2025-06-20 10:16:17.047 +05:30 [INF] Content root path: C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend
2025-06-20 10:16:18.380 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-06-20 10:16:18.936 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 569.0484ms
2025-06-20 10:16:18.980 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-06-20 10:16:18.980 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-06-20 10:16:19.008 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 27.8224ms
2025-06-20 10:16:19.162 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 181.6168ms
2025-06-20 10:16:19.231 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-06-20 10:16:19.421 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 190.3951ms
2025-06-20 10:16:46.320 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Auth/getRole - null null
2025-06-20 10:16:46.361 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:16:48.318 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer|Admin|Agent)
2025-06-20 10:16:48.329 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-20 10:16:48.333 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Auth/getRole - 401 0 null 2014.7114ms
2025-06-20 10:17:11.410 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7153/api/Auth/login - null null
2025-06-20 10:17:11.418 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:17:11.424 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7153/api/Auth/login - 204 null null 14.4191ms
2025-06-20 10:17:11.427 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Auth/login - application/json 49
2025-06-20 10:17:11.441 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:17:11.449 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:11.490 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-06-20 10:17:12.806 +05:30 [INF] Attempting login for username: Krishna_20
2025-06-20 10:17:16.987 +05:30 [INF] Executed DbCommand (384ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username], [u0].[UserId], [u0].[RoleId], [u0].[CreatedAt], [u0].[CreatedBy], [u0].[UpdatedAt], [u0].[UpdatedBy], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-06-20 10:17:17.469 +05:30 [INF] User 'Krishna_20' (User ID: "46b23b43-59a2-4b06-a046-7693c706a883", Role: Admin) logged in successfully.
2025-06-20 10:17:17.483 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:17:17.507 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 6005.768ms
2025-06-20 10:17:17.516 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:17.548 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Auth/login - 200 null application/json; charset=utf-8 6121.3169ms
2025-06-20 10:17:20.153 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/customers?page=1&size=10 - null null
2025-06-20 10:17:20.162 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:17:20.265 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:20.283 +05:30 [INF] Route matched with {action = "GetAllCustomers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCustomers(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:17:20.312 +05:30 [INF] Attempting to retrieve all customers. Page: 1, Size: 10
2025-06-20 10:17:20.377 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Address], [c].[CreatedAt], [c].[CreatedBy], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UpdatedAt], [c].[UpdatedBy], [c].[UserId], [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username]
FROM [Customers] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
2025-06-20 10:17:20.439 +05:30 [INF] Successfully retrieved 1 customers for page 1.
2025-06-20 10:17:20.443 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:17:20.466 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi) in 176.363ms
2025-06-20 10:17:20.469 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/customers?page=1&size=10 - null null
2025-06-20 10:17:20.470 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:20.475 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/customers?page=1&size=10 - 200 null application/json; charset=utf-8 322.9654ms
2025-06-20 10:17:20.476 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:17:20.488 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:20.493 +05:30 [INF] Route matched with {action = "GetAllCustomers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCustomers(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:17:20.507 +05:30 [INF] Attempting to retrieve all customers. Page: 1, Size: 10
2025-06-20 10:17:20.686 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Address], [c].[CreatedAt], [c].[CreatedBy], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UpdatedAt], [c].[UpdatedBy], [c].[UserId], [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username]
FROM [Customers] AS [c]
INNER JOIN [Users] AS [u] ON [c].[UserId] = [u].[Id]
2025-06-20 10:17:20.691 +05:30 [INF] Successfully retrieved 1 customers for page 1.
2025-06-20 10:17:20.692 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:17:20.694 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi) in 192.7934ms
2025-06-20 10:17:20.697 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:20.700 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/customers?page=1&size=10 - 200 null application/json; charset=utf-8 231.1978ms
2025-06-20 10:17:27.395 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/agents?page=1&size=5 - null null
2025-06-20 10:17:27.399 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:17:27.401 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:27.410 +05:30 [INF] Route matched with {action = "GetAllAgents", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAgents(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:17:27.440 +05:30 [INF] Attempting to retrieve all agents. Page: 1, Size: 5
2025-06-20 10:17:27.475 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username]
FROM [Agents] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserId] = [u].[Id]
2025-06-20 10:17:27.505 +05:30 [INF] Successfully retrieved 1 agents for page 1.
2025-06-20 10:17:27.508 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AgentProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:17:27.516 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi) in 101.8723ms
2025-06-20 10:17:27.520 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:27.522 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/agents?page=1&size=5 - 200 null application/json; charset=utf-8 127.8749ms
2025-06-20 10:17:38.842 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - null null
2025-06-20 10:17:38.849 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:17:38.852 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:38.864 +05:30 [INF] Route matched with {action = "GetAllClaims", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer]]] GetAllClaims(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:17:38.881 +05:30 [INF] Attempting to retrieve all claims. Page: 1, Size: 10
2025-06-20 10:17:38.948 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CreatedAt], [c].[CreatedBy], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [c].[UpdatedAt], [c].[UpdatedBy], [c0].[CustomerId], [c0].[Address], [c0].[CreatedAt], [c0].[CreatedBy], [c0].[DateOfBirth], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[UpdatedAt], [c0].[UpdatedBy], [c0].[UserId], [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[CreatedAt], [a0].[CreatedBy], [a0].[Name], [a0].[UpdatedAt], [a0].[UpdatedBy], [a0].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Customers] AS [c0] ON [c].[CustomerId] = [c0].[CustomerId]
LEFT JOIN [Agents] AS [a] ON [c].[AgentId] = [a].[AgentId]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
2025-06-20 10:17:39.048 +05:30 [INF] Successfully retrieved 1 claims for page 1.
2025-06-20 10:17:39.052 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForAdmin, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:17:39.067 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi) in 194.0028ms
2025-06-20 10:17:39.075 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - null null
2025-06-20 10:17:39.076 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:39.085 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:17:39.087 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - 200 null application/json; charset=utf-8 245.601ms
2025-06-20 10:17:39.091 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:39.102 +05:30 [INF] Route matched with {action = "GetAllClaims", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer]]] GetAllClaims(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:17:39.110 +05:30 [INF] Attempting to retrieve all claims. Page: 1, Size: 10
2025-06-20 10:17:39.138 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CreatedAt], [c].[CreatedBy], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [c].[UpdatedAt], [c].[UpdatedBy], [c0].[CustomerId], [c0].[Address], [c0].[CreatedAt], [c0].[CreatedBy], [c0].[DateOfBirth], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[UpdatedAt], [c0].[UpdatedBy], [c0].[UserId], [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[CreatedAt], [a0].[CreatedBy], [a0].[Name], [a0].[UpdatedAt], [a0].[UpdatedBy], [a0].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Customers] AS [c0] ON [c].[CustomerId] = [c0].[CustomerId]
LEFT JOIN [Agents] AS [a] ON [c].[AgentId] = [a].[AgentId]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
2025-06-20 10:17:39.151 +05:30 [INF] Successfully retrieved 1 claims for page 1.
2025-06-20 10:17:39.155 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForAdmin, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:17:39.160 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi) in 51.6122ms
2025-06-20 10:17:39.165 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:39.168 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - 200 null application/json; charset=utf-8 93.3062ms
2025-06-20 10:17:39.448 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/agents?page=1&size=5 - null null
2025-06-20 10:17:39.453 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:17:39.456 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:39.460 +05:30 [INF] Route matched with {action = "GetAllAgents", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAgents(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:17:39.465 +05:30 [INF] Attempting to retrieve all agents. Page: 1, Size: 5
2025-06-20 10:17:39.484 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username]
FROM [Agents] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserId] = [u].[Id]
2025-06-20 10:17:39.495 +05:30 [INF] Successfully retrieved 1 agents for page 1.
2025-06-20 10:17:39.498 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AgentProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:17:39.501 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi) in 38.2301ms
2025-06-20 10:17:39.507 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:39.509 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/agents?page=1&size=5 - 200 null application/json; charset=utf-8 61.4099ms
2025-06-20 10:17:43.349 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - null null
2025-06-20 10:17:43.358 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:17:43.359 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:43.363 +05:30 [INF] Route matched with {action = "GetAllClaims", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer]]] GetAllClaims(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:17:43.367 +05:30 [INF] Attempting to retrieve all claims. Page: 1, Size: 10
2025-06-20 10:17:43.407 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CreatedAt], [c].[CreatedBy], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [c].[UpdatedAt], [c].[UpdatedBy], [c0].[CustomerId], [c0].[Address], [c0].[CreatedAt], [c0].[CreatedBy], [c0].[DateOfBirth], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[UpdatedAt], [c0].[UpdatedBy], [c0].[UserId], [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[CreatedAt], [a0].[CreatedBy], [a0].[Name], [a0].[UpdatedAt], [a0].[UpdatedBy], [a0].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Customers] AS [c0] ON [c].[CustomerId] = [c0].[CustomerId]
LEFT JOIN [Agents] AS [a] ON [c].[AgentId] = [a].[AgentId]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
2025-06-20 10:17:43.416 +05:30 [INF] Successfully retrieved 1 claims for page 1.
2025-06-20 10:17:43.421 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForAdmin, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:17:43.425 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi) in 59.1289ms
2025-06-20 10:17:43.428 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:43.429 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - null null
2025-06-20 10:17:43.431 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - 200 null application/json; charset=utf-8 81.3708ms
2025-06-20 10:17:43.434 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:17:43.439 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:43.442 +05:30 [INF] Route matched with {action = "GetAllClaims", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer]]] GetAllClaims(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:17:43.445 +05:30 [INF] Attempting to retrieve all claims. Page: 1, Size: 10
2025-06-20 10:17:43.459 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CreatedAt], [c].[CreatedBy], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [c].[UpdatedAt], [c].[UpdatedBy], [c0].[CustomerId], [c0].[Address], [c0].[CreatedAt], [c0].[CreatedBy], [c0].[DateOfBirth], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[UpdatedAt], [c0].[UpdatedBy], [c0].[UserId], [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[CreatedAt], [a0].[CreatedBy], [a0].[Name], [a0].[UpdatedAt], [a0].[UpdatedBy], [a0].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Customers] AS [c0] ON [c].[CustomerId] = [c0].[CustomerId]
LEFT JOIN [Agents] AS [a] ON [c].[AgentId] = [a].[AgentId]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
2025-06-20 10:17:43.465 +05:30 [INF] Successfully retrieved 1 claims for page 1.
2025-06-20 10:17:43.467 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForAdmin, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:17:43.472 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi) in 27.6268ms
2025-06-20 10:17:43.479 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:43.481 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - 200 null application/json; charset=utf-8 53.0142ms
2025-06-20 10:17:55.394 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - null null
2025-06-20 10:17:55.406 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:17:55.412 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:55.423 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:17:55.439 +05:30 [INF] Attempting to retrieve all available policies. Page: 1, Size: 10
2025-06-20 10:17:55.458 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-06-20 10:17:55.476 +05:30 [INF] Successfully retrieved 10 available policies for page 1.
2025-06-20 10:17:55.479 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:17:55.489 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 58.1614ms
2025-06-20 10:17:55.492 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:55.493 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - null null
2025-06-20 10:17:55.494 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - 200 null application/json; charset=utf-8 100.8545ms
2025-06-20 10:17:55.497 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:17:55.504 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:55.507 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:17:55.513 +05:30 [INF] Attempting to retrieve all available policies. Page: 1, Size: 10
2025-06-20 10:17:55.518 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-06-20 10:17:55.529 +05:30 [INF] Successfully retrieved 10 available policies for page 1.
2025-06-20 10:17:55.534 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:17:55.537 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 25.7454ms
2025-06-20 10:17:55.540 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 10:17:55.542 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=1&size=10 - 200 null application/json; charset=utf-8 49.6912ms
2025-06-20 10:18:09.556 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7153/api/Admin/1/available-policy - null null
2025-06-20 10:18:09.561 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:18:09.563 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7153/api/Admin/1/available-policy - 204 null null 7.4037ms
2025-06-20 10:18:09.566 +05:30 [INF] Request starting HTTP/2 PUT https://localhost:7153/api/Admin/1/available-policy - application/json 116
2025-06-20 10:18:09.580 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:18:09.586 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.UpdateAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-06-20 10:18:09.601 +05:30 [INF] Route matched with {action = "UpdateAvailablePolicy", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAvailablePolicy(InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyRequestDto, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:18:09.645 +05:30 [INF] Attempting to update available policy with ID: 1
2025-06-20 10:18:09.687 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
WHERE [a].[AvailablePolicyId] = @__p_0
2025-06-20 10:18:09.795 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AvailablePolicies] SET [BasePremium] = @p0, [CoverageDetails] = @p1, [CreatedAt] = @p2, [CreatedBy] = @p3, [Name] = @p4, [UpdatedAt] = @p5, [UpdatedBy] = @p6, [ValidityPeriod] = @p7
OUTPUT 1
WHERE [AvailablePolicyId] = @p8;
2025-06-20 10:18:09.804 +05:30 [INF] Available policy with ID 1 updated successfully.
2025-06-20 10:18:09.805 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 10:18:09.807 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.UpdateAvailablePolicy (InsurenceManagementSystemWebApi) in 201.5297ms
2025-06-20 10:18:09.809 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.UpdateAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-06-20 10:18:09.813 +05:30 [INF] Request finished HTTP/2 PUT https://localhost:7153/api/Admin/1/available-policy - 200 null application/json; charset=utf-8 247.8734ms
2025-06-20 10:18:16.535 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7153/api/Admin/1/available-policy - null null
2025-06-20 10:18:16.552 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:18:16.557 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7153/api/Admin/1/available-policy - 204 null null 22.7927ms
2025-06-20 10:18:16.561 +05:30 [INF] Request starting HTTP/2 DELETE https://localhost:7153/api/Admin/1/available-policy - null null
2025-06-20 10:18:16.573 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:18:16.576 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.DeleteAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-06-20 10:18:16.581 +05:30 [INF] Route matched with {action = "DeleteAvailablePolicy", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteAvailablePolicy(Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:18:16.588 +05:30 [INF] Attempting to delete available policy with ID: 1
2025-06-20 10:18:16.596 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
WHERE [a].[AvailablePolicyId] = @__p_0
2025-06-20 10:18:16.650 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [AvailablePolicies]
OUTPUT 1
WHERE [AvailablePolicyId] = @p0;
2025-06-20 10:18:16.716 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'InsurenceManagementSystemWebApi.Infrastructure.Persistance.InsuranceDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Policies_AvailablePolicies_AvailablePolicyId". The conflict occurred in database "InsuranceManagementSystem", table "dbo.Policies", column 'AvailablePolicyId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:57ba8b91-b17a-4a7d-aed5-36aac3672dfe
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Policies_AvailablePolicies_AvailablePolicyId". The conflict occurred in database "InsuranceManagementSystem", table "dbo.Policies", column 'AvailablePolicyId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:57ba8b91-b17a-4a7d-aed5-36aac3672dfe
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-20 10:18:16.997 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.DeleteAvailablePolicy (InsurenceManagementSystemWebApi) in 413.4036ms
2025-06-20 10:18:17.003 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.DeleteAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-06-20 10:18:17.116 +05:30 [ERR] An error occurred.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The DELETE statement conflicted with the REFERENCE constraint "FK_Policies_AvailablePolicies_AvailablePolicyId". The conflict occurred in database "InsuranceManagementSystem", table "dbo.Policies", column 'AvailablePolicyId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:57ba8b91-b17a-4a7d-aed5-36aac3672dfe
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at InsurenceManagementSystemWebApi.Infrastructure.Persistance.InsuranceDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Infrastructure\Persistance\InsuranceDbContext.cs:line 159
   at InsurenceManagementSystemWebApi.Infrastructure.Persistance.Repositories.AvailablePolicyRepository.DeleteAsync(Int32 id) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Infrastructure\Persistance\Repositories\AvailablePolicyRepository.cs:line 73
   at InsurenceManagementSystemWebApi.Applications.Services.AdminService.DeleteAvailablePolicyAsync(Int32 id) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Applications\Services\AdminService.cs:line 274
   at InsurenceManagementSystemWebApi.Controllers.AdminController.DeleteAvailablePolicy(Int32 id) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Controllers\AdminController.cs:line 240
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at InsurenceManagementSystemWebApi.Applications.MiddleWares.ExceptionMiddleware.InvokeAsync(HttpContext context) in C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend\Applications\MiddleWares\ExceptionMiddleware.cs:line 32
2025-06-20 10:18:17.455 +05:30 [INF] Request finished HTTP/2 DELETE https://localhost:7153/api/Admin/1/available-policy - 500 null application/json 894.2387ms
2025-06-20 10:18:50.829 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7153/api/Admin/available-policy - null null
2025-06-20 10:18:50.833 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:18:50.834 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7153/api/Admin/available-policy - 204 null null 5.0825ms
2025-06-20 10:18:50.836 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Admin/available-policy - application/json 122
2025-06-20 10:18:50.861 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:18:50.863 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-06-20 10:18:50.869 +05:30 [INF] Route matched with {action = "AddAvailablePolicy", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAvailablePolicy(InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:18:50.875 +05:30 [INF] Attempting to add a new available policy. Policy Name: Insurance on health
2025-06-20 10:18:50.924 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AvailablePolicies] ([BasePremium], [CoverageDetails], [CreatedAt], [CreatedBy], [Name], [UpdatedAt], [UpdatedBy], [ValidityPeriod])
OUTPUT INSERTED.[AvailablePolicyId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-20 10:18:50.948 +05:30 [INF] New available policy 'Insurance on health' added successfully. Policy ID: 27
2025-06-20 10:18:50.950 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 10:18:50.953 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.AddAvailablePolicy (InsurenceManagementSystemWebApi) in 81.062ms
2025-06-20 10:18:50.954 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-06-20 10:18:50.955 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Admin/available-policy - 200 null application/json; charset=utf-8 119.9317ms
2025-06-20 10:18:54.617 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=2&size=10 - null null
2025-06-20 10:18:54.623 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:18:54.626 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 10:18:54.630 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:18:54.639 +05:30 [INF] Attempting to retrieve all available policies. Page: 2, Size: 10
2025-06-20 10:18:54.655 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-06-20 10:18:54.666 +05:30 [INF] Successfully retrieved 10 available policies for page 2.
2025-06-20 10:18:54.677 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:18:54.684 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 45.8007ms
2025-06-20 10:18:54.690 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 10:18:54.693 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=2&size=10 - 200 null application/json; charset=utf-8 76.9771ms
2025-06-20 10:18:56.087 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=3&size=10 - null null
2025-06-20 10:18:56.104 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:18:56.109 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 10:18:56.116 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:18:56.126 +05:30 [INF] Attempting to retrieve all available policies. Page: 3, Size: 10
2025-06-20 10:18:56.144 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-06-20 10:18:56.156 +05:30 [INF] Successfully retrieved 7 available policies for page 3.
2025-06-20 10:18:56.163 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:18:56.173 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 47.5502ms
2025-06-20 10:18:56.180 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-06-20 10:18:56.185 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/available-policies?page=3&size=10 - 200 null application/json; charset=utf-8 98.8694ms
2025-06-20 10:19:00.455 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/users - null null
2025-06-20 10:19:00.463 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:19:00.465 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi)'
2025-06-20 10:19:00.477 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InsurenceManagementSystemWebApi.Applications.DTOs.UserWithRoleResponseDto]]] GetAllUsers() on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:19:00.484 +05:30 [INF] Attempting to retrieve all users with roles.
2025-06-20 10:19:00.517 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username], [u0].[UserId], [u0].[RoleId], [u0].[CreatedAt], [u0].[CreatedBy], [u0].[UpdatedAt], [u0].[UpdatedBy], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
2025-06-20 10:19:00.528 +05:30 [INF] Successfully retrieved 3 users with roles.
2025-06-20 10:19:00.531 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.UserWithRoleResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 10:19:00.540 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi) in 58.3403ms
2025-06-20 10:19:00.542 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi)'
2025-06-20 10:19:00.544 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/users - 200 null application/json; charset=utf-8 89.5198ms
2025-06-20 10:23:01.781 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/agents?page=1&size=5 - null null
2025-06-20 10:23:01.800 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:23:01.801 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-06-20 10:23:01.803 +05:30 [INF] Route matched with {action = "GetAllAgents", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAgents(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:23:01.806 +05:30 [INF] Attempting to retrieve all agents. Page: 1, Size: 5
2025-06-20 10:23:01.815 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username]
FROM [Agents] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserId] = [u].[Id]
2025-06-20 10:23:01.818 +05:30 [INF] Successfully retrieved 1 agents for page 1.
2025-06-20 10:23:01.819 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AgentProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:23:01.821 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi) in 15.535ms
2025-06-20 10:23:01.826 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-06-20 10:23:01.829 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/agents?page=1&size=5 - 200 null application/json; charset=utf-8 47.97ms
2025-06-20 10:24:58.026 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7153/api/Admin/add-agent - null null
2025-06-20 10:24:58.043 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:24:58.044 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7153/api/Admin/add-agent - 204 null null 20.664ms
2025-06-20 10:24:58.050 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Admin/add-agent - application/json 143
2025-06-20 10:24:58.054 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:24:58.057 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddAgent (InsurenceManagementSystemWebApi)'
2025-06-20 10:24:58.062 +05:30 [INF] Route matched with {action = "AddAgent", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAgent(InsurenceManagementSystemWebApi.Applications.DTOs.AgentRegisterRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:25:16.325 +05:30 [INF] Attempting to add a new agent. Username: sumit, Name: Sumit Kumar
2025-06-20 10:25:16.347 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username], [u0].[UserId], [u0].[RoleId], [u0].[CreatedAt], [u0].[CreatedBy], [u0].[UpdatedAt], [u0].[UpdatedBy], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-06-20 10:25:16.689 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [CreatedBy], [PasswordHash], [UpdatedAt], [UpdatedBy], [Username])
OUTPUT INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-06-20 10:25:16.716 +05:30 [INF] User 'sumit' created for new agent.
2025-06-20 10:25:16.777 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__name_0
2025-06-20 10:25:16.819 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId], [CreatedAt], [CreatedBy], [UpdatedAt], [UpdatedBy])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-20 10:25:16.829 +05:30 [INF] Agent role assigned to user '"15624179-8e46-4055-b578-2e52abd4ab11"'.
2025-06-20 10:25:16.855 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Agents] ([ContactInfo], [CreatedAt], [CreatedBy], [Name], [UpdatedAt], [UpdatedBy], [UserId])
OUTPUT INSERTED.[AgentId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-06-20 10:25:16.867 +05:30 [INF] Agent details added for user '"15624179-8e46-4055-b578-2e52abd4ab11"'. Agent ID: 2
2025-06-20 10:25:16.934 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AgentId], [CreatedAt], [CustomerId], [Message])
OUTPUT INSERTED.[NotificationId]
VALUES (@p0, @p1, @p2, @p3);
2025-06-20 10:25:16.965 +05:30 [INF] Welcome notification sent to new agent '2'.
2025-06-20 10:25:16.973 +05:30 [INF] New agent 'Sumit Kumar' (Username: sumit) added successfully.
2025-06-20 10:27:36.446 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AgentRegisterResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:28:03.115 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.AddAgent (InsurenceManagementSystemWebApi) in 185050.3331ms
2025-06-20 10:28:03.121 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddAgent (InsurenceManagementSystemWebApi)'
2025-06-20 10:28:06.775 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Admin/add-agent - 200 null application/json; charset=utf-8 188725.9372ms
2025-06-20 10:28:12.968 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/agents?page=1&size=5 - null null
2025-06-20 10:28:12.982 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:28:12.988 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-06-20 10:28:12.999 +05:30 [INF] Route matched with {action = "GetAllAgents", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAgents(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:28:13.012 +05:30 [INF] Attempting to retrieve all agents. Page: 1, Size: 5
2025-06-20 10:28:13.045 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username]
FROM [Agents] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserId] = [u].[Id]
2025-06-20 10:28:13.054 +05:30 [INF] Successfully retrieved 2 agents for page 1.
2025-06-20 10:28:13.061 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AgentProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:28:13.068 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi) in 57.6165ms
2025-06-20 10:28:13.071 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-06-20 10:28:13.073 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/agents?page=1&size=5 - 200 null application/json; charset=utf-8 106.2201ms
2025-06-20 10:52:51.320 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Auth/getRole - null null
2025-06-20 10:52:51.324 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:52:51.325 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.GetRole (InsurenceManagementSystemWebApi)'
2025-06-20 10:52:51.330 +05:30 [INF] Route matched with {action = "GetRole", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-06-20 10:52:51.356 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 10:52:51.360 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.GetRole (InsurenceManagementSystemWebApi) in 26.0213ms
2025-06-20 10:52:51.363 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.GetRole (InsurenceManagementSystemWebApi)'
2025-06-20 10:52:51.365 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Auth/getRole - 200 null application/json; charset=utf-8 45.1873ms
2025-06-20 10:52:51.657 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/agents?page=1&size=5 - null null
2025-06-20 10:52:51.659 +05:30 [INF] CORS policy execution successful.
2025-06-20 10:52:51.660 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-06-20 10:52:51.661 +05:30 [INF] Route matched with {action = "GetAllAgents", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAgents(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 10:52:51.663 +05:30 [INF] Attempting to retrieve all agents. Page: 1, Size: 5
2025-06-20 10:52:52.529 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username]
FROM [Agents] AS [a]
INNER JOIN [Users] AS [u] ON [a].[UserId] = [u].[Id]
2025-06-20 10:52:52.537 +05:30 [INF] Successfully retrieved 2 agents for page 1.
2025-06-20 10:52:52.539 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AgentProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 10:52:52.541 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi) in 878.194ms
2025-06-20 10:52:52.544 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-06-20 10:52:52.546 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/agents?page=1&size=5 - 200 null application/json; charset=utf-8 889.303ms
2025-06-20 16:17:11.273 +05:30 [INF] User profile is available. Using 'C:\Users\2403452\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-06-20 16:17:12.273 +05:30 [INF] Now listening on: https://localhost:7153
2025-06-20 16:17:12.277 +05:30 [INF] Now listening on: http://localhost:5016
2025-06-20 16:17:12.520 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-20 16:17:12.554 +05:30 [INF] Hosting environment: Development
2025-06-20 16:17:12.559 +05:30 [INF] Content root path: C:\Users\2403452\OneDrive - Cognizant\Desktop\Fina Evaluation\Backend
2025-06-20 16:17:14.369 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/index.html - null null
2025-06-20 16:17:15.626 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/index.html - 200 null text/html;charset=utf-8 1276.047ms
2025-06-20 16:17:16.204 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - null null
2025-06-20 16:17:16.223 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 19.5697ms
2025-06-20 16:17:16.269 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/_vs/browserLink - null null
2025-06-20 16:17:16.439 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/_vs/browserLink - 200 null text/javascript; charset=UTF-8 170.6738ms
2025-06-20 16:17:17.367 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - null null
2025-06-20 16:17:17.504 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 137.4166ms
2025-06-20 16:17:32.954 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Auth/getRole - null null
2025-06-20 16:17:32.961 +05:30 [INF] CORS policy execution successful.
2025-06-20 16:17:34.972 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer|Admin|Agent)
2025-06-20 16:17:34.978 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-20 16:17:34.981 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Auth/getRole - 401 0 null 2028.1019ms
2025-06-20 16:17:47.388 +05:30 [INF] Request starting HTTP/2 OPTIONS https://localhost:7153/api/Auth/login - null null
2025-06-20 16:17:47.401 +05:30 [INF] CORS policy execution successful.
2025-06-20 16:17:47.402 +05:30 [INF] Request finished HTTP/2 OPTIONS https://localhost:7153/api/Auth/login - 204 null null 14.5855ms
2025-06-20 16:17:47.405 +05:30 [INF] Request starting HTTP/2 POST https://localhost:7153/api/Auth/login - application/json 49
2025-06-20 16:17:47.410 +05:30 [INF] CORS policy execution successful.
2025-06-20 16:17:47.420 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-06-20 16:17:47.463 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-06-20 16:17:48.526 +05:30 [INF] Attempting login for username: Krishna_20
2025-06-20 16:17:51.528 +05:30 [INF] Executed DbCommand (201ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[CreatedBy], [u].[IsDeleted], [u].[PasswordHash], [u].[UpdatedAt], [u].[UpdatedBy], [u].[Username], [u0].[UserId], [u0].[RoleId], [u0].[CreatedAt], [u0].[CreatedBy], [u0].[UpdatedAt], [u0].[UpdatedBy], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-06-20 16:17:52.026 +05:30 [INF] User 'Krishna_20' (User ID: "46b23b43-59a2-4b06-a046-7693c706a883", Role: Admin) logged in successfully.
2025-06-20 16:17:52.040 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 16:17:52.053 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 4581.8837ms
2025-06-20 16:17:52.056 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-06-20 16:17:52.067 +05:30 [INF] Request finished HTTP/2 POST https://localhost:7153/api/Auth/login - 200 null application/json; charset=utf-8 4662.4548ms
2025-06-20 16:17:53.993 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - null null
2025-06-20 16:17:53.999 +05:30 [INF] CORS policy execution successful.
2025-06-20 16:17:54.081 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 16:17:54.098 +05:30 [INF] Route matched with {action = "GetAllClaims", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer]]] GetAllClaims(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 16:17:54.120 +05:30 [INF] Attempting to retrieve all claims. Page: 1, Size: 10
2025-06-20 16:17:54.221 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CreatedAt], [c].[CreatedBy], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [c].[UpdatedAt], [c].[UpdatedBy], [c0].[CustomerId], [c0].[Address], [c0].[CreatedAt], [c0].[CreatedBy], [c0].[DateOfBirth], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[UpdatedAt], [c0].[UpdatedBy], [c0].[UserId], [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[CreatedAt], [a0].[CreatedBy], [a0].[Name], [a0].[UpdatedAt], [a0].[UpdatedBy], [a0].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Customers] AS [c0] ON [c].[CustomerId] = [c0].[CustomerId]
LEFT JOIN [Agents] AS [a] ON [c].[AgentId] = [a].[AgentId]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
2025-06-20 16:17:54.393 +05:30 [INF] Successfully retrieved 1 claims for page 1.
2025-06-20 16:17:54.398 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForAdmin, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 16:17:54.416 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi) in 312.0192ms
2025-06-20 16:17:54.419 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - null null
2025-06-20 16:17:54.419 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 16:17:54.424 +05:30 [INF] CORS policy execution successful.
2025-06-20 16:17:54.425 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - 200 null application/json; charset=utf-8 431.4904ms
2025-06-20 16:17:54.429 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 16:17:54.433 +05:30 [INF] Route matched with {action = "GetAllClaims", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer]]] GetAllClaims(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 16:17:54.439 +05:30 [INF] Attempting to retrieve all claims. Page: 1, Size: 10
2025-06-20 16:17:54.521 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CreatedAt], [c].[CreatedBy], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [c].[UpdatedAt], [c].[UpdatedBy], [c0].[CustomerId], [c0].[Address], [c0].[CreatedAt], [c0].[CreatedBy], [c0].[DateOfBirth], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[UpdatedAt], [c0].[UpdatedBy], [c0].[UserId], [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[CreatedAt], [a0].[CreatedBy], [a0].[Name], [a0].[UpdatedAt], [a0].[UpdatedBy], [a0].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Customers] AS [c0] ON [c].[CustomerId] = [c0].[CustomerId]
LEFT JOIN [Agents] AS [a] ON [c].[AgentId] = [a].[AgentId]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
2025-06-20 16:17:54.525 +05:30 [INF] Successfully retrieved 1 claims for page 1.
2025-06-20 16:17:54.527 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForAdmin, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 16:17:54.530 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi) in 94.9118ms
2025-06-20 16:17:54.532 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 16:17:54.533 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - 200 null application/json; charset=utf-8 115.1183ms
2025-06-20 16:21:05.145 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Auth/getRole - null null
2025-06-20 16:21:05.148 +05:30 [INF] CORS policy execution successful.
2025-06-20 16:21:05.150 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.GetRole (InsurenceManagementSystemWebApi)'
2025-06-20 16:21:05.159 +05:30 [INF] Route matched with {action = "GetRole", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult GetRole() on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-06-20 16:21:05.210 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-20 16:21:05.214 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.GetRole (InsurenceManagementSystemWebApi) in 50.478ms
2025-06-20 16:21:05.216 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.GetRole (InsurenceManagementSystemWebApi)'
2025-06-20 16:21:05.217 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Auth/getRole - 200 null application/json; charset=utf-8 72.3073ms
2025-06-20 16:21:05.464 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - null null
2025-06-20 16:21:05.467 +05:30 [INF] CORS policy execution successful.
2025-06-20 16:21:05.469 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 16:21:05.474 +05:30 [INF] Route matched with {action = "GetAllClaims", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer]]] GetAllClaims(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 16:21:05.489 +05:30 [INF] Attempting to retrieve all claims. Page: 1, Size: 10
2025-06-20 16:21:05.506 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CreatedAt], [c].[CreatedBy], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [c].[UpdatedAt], [c].[UpdatedBy], [c0].[CustomerId], [c0].[Address], [c0].[CreatedAt], [c0].[CreatedBy], [c0].[DateOfBirth], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[UpdatedAt], [c0].[UpdatedBy], [c0].[UserId], [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[CreatedAt], [a0].[CreatedBy], [a0].[Name], [a0].[UpdatedAt], [a0].[UpdatedBy], [a0].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Customers] AS [c0] ON [c].[CustomerId] = [c0].[CustomerId]
LEFT JOIN [Agents] AS [a] ON [c].[AgentId] = [a].[AgentId]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
2025-06-20 16:21:05.511 +05:30 [INF] Successfully retrieved 1 claims for page 1.
2025-06-20 16:21:05.512 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForAdmin, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 16:21:05.514 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi) in 36.6042ms
2025-06-20 16:21:05.515 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 16:21:05.516 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - 200 null application/json; charset=utf-8 52.527ms
2025-06-20 16:21:05.547 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - null null
2025-06-20 16:21:05.550 +05:30 [INF] CORS policy execution successful.
2025-06-20 16:21:05.551 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 16:21:05.552 +05:30 [INF] Route matched with {action = "GetAllClaims", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer]]] GetAllClaims(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-06-20 16:21:05.556 +05:30 [INF] Attempting to retrieve all claims. Page: 1, Size: 10
2025-06-20 16:21:05.576 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CreatedAt], [c].[CreatedBy], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [c].[UpdatedAt], [c].[UpdatedBy], [c0].[CustomerId], [c0].[Address], [c0].[CreatedAt], [c0].[CreatedBy], [c0].[DateOfBirth], [c0].[Email], [c0].[Name], [c0].[Phone], [c0].[UpdatedAt], [c0].[UpdatedBy], [c0].[UserId], [a].[AgentId], [a].[ContactInfo], [a].[CreatedAt], [a].[CreatedBy], [a].[Name], [a].[UpdatedAt], [a].[UpdatedBy], [a].[UserId], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CreatedAt], [p].[CreatedBy], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [p].[UpdatedAt], [p].[UpdatedBy], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[CreatedAt], [a0].[CreatedBy], [a0].[Name], [a0].[UpdatedAt], [a0].[UpdatedBy], [a0].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Customers] AS [c0] ON [c].[CustomerId] = [c0].[CustomerId]
LEFT JOIN [Agents] AS [a] ON [c].[AgentId] = [a].[AgentId]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
2025-06-20 16:21:05.579 +05:30 [INF] Successfully retrieved 1 claims for page 1.
2025-06-20 16:21:05.581 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForAdmin, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-20 16:21:05.583 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi) in 27.8867ms
2025-06-20 16:21:05.585 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-06-20 16:21:05.586 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7153/api/Admin/claims?page=1&size=10 - 200 null application/json; charset=utf-8 38.4238ms
