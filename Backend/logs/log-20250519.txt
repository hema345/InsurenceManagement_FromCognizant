2025-05-19 12:15:51.555 +05:30 [INF] User profile is available. Using 'C:\Users\2403521\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-19 12:15:52.198 +05:30 [INF] Now listening on: http://localhost:5016
2025-05-19 12:15:52.445 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-19 12:15:52.447 +05:30 [INF] Hosting environment: Development
2025-05-19 12:15:52.450 +05:30 [INF] Content root path: C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi
2025-05-19 12:15:54.439 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 12:15:58.278 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 3856.7356ms
2025-05-19 12:15:58.311 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 12:15:58.326 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 16.3609ms
2025-05-19 12:15:58.372 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 12:15:58.503 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 133.1314ms
2025-05-19 12:15:58.922 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 12:15:59.014 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.3981ms
2025-05-19 12:17:45.502 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/register - application/json 198
2025-05-19 12:17:45.525 +05:30 [WRN] Failed to determine the https port for redirect.
2025-05-19 12:17:45.533 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Register (InsurenceManagementSystemWebApi)'
2025-05-19 12:17:45.556 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(InsurenceManagementSystemWebApi.Applications.DTOs.CustomerRegisterRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 12:17:49.682 +05:30 [INF] Executed DbCommand (220ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__name_0
2025-05-19 12:17:49.849 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 12:17:50.316 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Username])
OUTPUT INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2);
2025-05-19 12:18:05.130 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2025-05-19 12:18:05.229 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Customers] ([Address], [DateOfBirth], [Email], [Name], [Phone], [UserId])
OUTPUT INSERTED.[CustomerId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-19 12:18:05.248 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerRegisterResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 12:18:05.259 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Register (InsurenceManagementSystemWebApi) in 19689.732ms
2025-05-19 12:18:05.262 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Register (InsurenceManagementSystemWebApi)'
2025-05-19 12:18:05.276 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Auth/register - 200 null application/json; charset=utf-8 19773.5825ms
2025-05-19 12:19:15.172 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/login - application/json 54
2025-05-19 12:19:15.191 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 12:19:15.201 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 12:19:15.243 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 12:19:15.447 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UserId]
FROM [Customers] AS [c]
WHERE [c].[UserId] = @__userId_0
2025-05-19 12:19:15.517 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 12:19:15.523 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 317.6258ms
2025-05-19 12:19:15.525 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 12:19:15.528 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Auth/login - 200 null application/json; charset=utf-8 355.6411ms
2025-05-19 12:20:05.136 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - null null
2025-05-19 12:20:05.152 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-05-19 12:20:05.163 +05:30 [INF] Route matched with {action = "GetAllCustomers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto]]] GetAllCustomers(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 12:20:05.233 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Address], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UserId]
FROM [Customers] AS [c]
2025-05-19 12:20:05.250 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 12:20:05.258 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi) in 86.8625ms
2025-05-19 12:20:05.260 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-05-19 12:20:05.264 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - 200 null application/json; charset=utf-8 132.1844ms
2025-05-19 12:20:53.719 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/agents?page=1&size=10 - null null
2025-05-19 12:20:53.769 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-05-19 12:20:53.776 +05:30 [INF] Route matched with {action = "GetAllAgents", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAgents(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 12:20:53.810 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AgentId], [a].[ContactInfo], [a].[Name], [a].[UserId]
FROM [Agents] AS [a]
2025-05-19 12:20:53.826 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AgentProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 12:20:53.837 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi) in 56.0939ms
2025-05-19 12:20:53.842 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-05-19 12:20:53.845 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/agents?page=1&size=10 - 200 null application/json; charset=utf-8 126.1669ms
2025-05-19 12:21:46.233 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/users - null null
2025-05-19 12:21:46.246 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi)'
2025-05-19 12:21:46.253 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InsurenceManagementSystemWebApi.Applications.DTOs.UserWithRoleResponseDto]]] GetAllUsers() on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 12:21:46.293 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
2025-05-19 12:21:46.303 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.UserWithRoleResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 12:21:46.307 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi) in 47.8823ms
2025-05-19 12:21:46.309 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi)'
2025-05-19 12:21:46.310 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/users - 200 null application/json; charset=utf-8 77.9611ms
2025-05-19 12:22:38.761 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/Customer/4 - null null
2025-05-19 12:22:38.783 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetCustomerByIdAsync (InsurenceManagementSystemWebApi)'
2025-05-19 12:22:38.792 +05:30 [INF] Route matched with {action = "GetCustomerById", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto]] GetCustomerByIdAsync(Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 12:22:38.828 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UserId]
FROM [Customers] AS [c]
WHERE [c].[CustomerId] = @__p_0
2025-05-19 12:22:38.832 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 12:22:38.836 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetCustomerByIdAsync (InsurenceManagementSystemWebApi) in 39.7759ms
2025-05-19 12:22:38.838 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetCustomerByIdAsync (InsurenceManagementSystemWebApi)'
2025-05-19 12:22:38.841 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/Customer/4 - 200 null application/json; charset=utf-8 79.5883ms
2025-05-19 12:24:41.520 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Admin/add-agent - application/json 147
2025-05-19 12:24:41.529 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddAgent (InsurenceManagementSystemWebApi)'
2025-05-19 12:24:41.536 +05:30 [INF] Route matched with {action = "AddAgent", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAgent(InsurenceManagementSystemWebApi.Applications.DTOs.AgentRegisterRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 12:24:41.603 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 12:24:41.746 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Username])
OUTPUT INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2);
2025-05-19 12:24:41.756 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__name_0
2025-05-19 12:24:41.833 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.AddAgent (InsurenceManagementSystemWebApi) in 288.1897ms
2025-05-19 12:24:41.835 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddAgent (InsurenceManagementSystemWebApi)'
2025-05-19 12:24:41.840 +05:30 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
OperationResult`1 -> UserRole
InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Domain.Models.Role, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> InsurenceManagementSystemWebApi.Domain.Models.UserRole
   at lambda_method472(Closure, OperationResult`1, UserRole, ResolutionContext)
   at InsurenceManagementSystemWebApi.Applications.Services.AdminService.AddAgentAsync(AgentRegisterRequestDto dto) in C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi\Applications\Services\AdminService.cs:line 441
   at InsurenceManagementSystemWebApi.Controllers.AdminController.AddAgent(AgentRegisterRequestDto dto) in C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi\Controllers\AdminController.cs:line 135
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-19 12:24:41.938 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Admin/add-agent - 500 null text/plain; charset=utf-8 417.901ms
2025-05-19 12:45:01.926 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 12:45:01.938 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 11.6164ms
2025-05-19 12:45:01.981 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 12:45:01.981 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 12:45:01.986 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 4.2077ms
2025-05-19 12:45:02.012 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.8765ms
2025-05-19 12:45:02.226 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 12:45:02.241 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.09ms
2025-05-19 12:45:47.230 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/agents?page=1&size=10 - null null
2025-05-19 12:45:47.247 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-05-19 12:45:47.253 +05:30 [INF] Route matched with {action = "GetAllAgents", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAgents(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 12:45:47.505 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AgentId], [a].[ContactInfo], [a].[Name], [a].[UserId]
FROM [Agents] AS [a]
2025-05-19 12:45:47.508 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AgentProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 12:45:47.513 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi) in 255.6429ms
2025-05-19 12:45:47.515 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllAgents (InsurenceManagementSystemWebApi)'
2025-05-19 12:45:47.517 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/agents?page=1&size=10 - 200 null application/json; charset=utf-8 287.3501ms
2025-05-19 12:47:17.092 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Admin/add-agent - application/json 147
2025-05-19 12:47:17.101 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddAgent (InsurenceManagementSystemWebApi)'
2025-05-19 12:47:17.106 +05:30 [INF] Route matched with {action = "AddAgent", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAgent(InsurenceManagementSystemWebApi.Applications.DTOs.AgentRegisterRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 12:47:17.127 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 12:47:17.250 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Username])
OUTPUT INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2);
2025-05-19 12:47:17.257 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__name_0
2025-05-19 12:47:17.271 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'InsurenceManagementSystemWebApi.Infrastructure.Persistance.InsuranceDbContext'.
System.InvalidOperationException: The value of 'UserRole.RoleId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The value of 'UserRole.RoleId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-05-19 12:47:17.344 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.AddAgent (InsurenceManagementSystemWebApi) in 235.9367ms
2025-05-19 12:47:17.346 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddAgent (InsurenceManagementSystemWebApi)'
2025-05-19 12:47:17.348 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The value of 'UserRole.RoleId' is unknown when attempting to save changes. This is because the property is also part of a foreign key for which the principal entity in the relationship is not known.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.PrepareToSave()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.GetEntriesToSave(Boolean cascadeChanges)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at InsurenceManagementSystemWebApi.Infrastructure.Persistance.Repositories.UserRoleRepository.AddAsync(UserRole userRole)
   at InsurenceManagementSystemWebApi.Applications.Services.AdminService.AddAgentAsync(AgentRegisterRequestDto dto)
   at InsurenceManagementSystemWebApi.Controllers.AdminController.AddAgent(AgentRegisterRequestDto dto)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-19 12:47:17.358 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Admin/add-agent - 500 null text/plain; charset=utf-8 266.9038ms
2025-05-19 12:57:05.140 +05:30 [INF] User profile is available. Using 'C:\Users\2403521\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-19 12:57:05.403 +05:30 [INF] Now listening on: http://localhost:5016
2025-05-19 12:57:05.489 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-19 12:57:05.492 +05:30 [INF] Hosting environment: Development
2025-05-19 12:57:05.494 +05:30 [INF] Content root path: C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi
2025-05-19 12:57:06.248 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 12:57:08.485 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 2249.1529ms
2025-05-19 12:57:08.496 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 12:57:08.501 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 5.2642ms
2025-05-19 12:57:08.509 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 12:57:08.554 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.7251ms
2025-05-19 12:57:08.753 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 12:57:08.814 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.2622ms
2025-05-19 12:58:52.183 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Admin/add-agent - application/json 138
2025-05-19 12:58:52.212 +05:30 [WRN] Failed to determine the https port for redirect.
2025-05-19 12:58:52.219 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddAgent (InsurenceManagementSystemWebApi)'
2025-05-19 12:58:52.247 +05:30 [INF] Route matched with {action = "AddAgent", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAgent(InsurenceManagementSystemWebApi.Applications.DTOs.AgentRegisterRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 12:58:55.163 +05:30 [INF] Executed DbCommand (189ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 12:58:55.692 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Username])
OUTPUT INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2);
2025-05-19 12:58:55.728 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__name_0
2025-05-19 12:58:55.795 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2025-05-19 12:58:55.837 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Agents] ([ContactInfo], [Name], [UserId])
OUTPUT INSERTED.[AgentId]
VALUES (@p0, @p1, @p2);
2025-05-19 12:58:55.889 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AgentId], [CreatedAt], [CustomerId], [Message])
OUTPUT INSERTED.[NotificationId]
VALUES (@p0, @p1, @p2, @p3);
2025-05-19 12:58:55.900 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Applications.DTOs.AgentRegisterResponseDto'.
2025-05-19 12:58:55.914 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.AddAgent (InsurenceManagementSystemWebApi) in 3656.7358ms
2025-05-19 12:58:55.917 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddAgent (InsurenceManagementSystemWebApi)'
2025-05-19 12:58:55.928 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Admin/add-agent - 200 null application/json; charset=utf-8 3745.0603ms
2025-05-19 13:01:30.214 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Admin/add-customer - application/json 203
2025-05-19 13:01:30.222 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddCustomer (InsurenceManagementSystemWebApi)'
2025-05-19 13:01:30.227 +05:30 [INF] Route matched with {action = "AddCustomer", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCustomer(InsurenceManagementSystemWebApi.Applications.DTOs.CustomerRegisterRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 13:01:30.260 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__name_0
2025-05-19 13:01:30.267 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 13:01:30.386 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [PasswordHash], [Username])
OUTPUT INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2);
2025-05-19 13:01:30.394 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2025-05-19 13:01:30.419 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Customers] ([Address], [DateOfBirth], [Email], [Name], [Phone], [UserId])
OUTPUT INSERTED.[CustomerId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-19 13:01:30.425 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerRegisterResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 13:01:30.432 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.AddCustomer (InsurenceManagementSystemWebApi) in 203.1296ms
2025-05-19 13:01:30.434 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddCustomer (InsurenceManagementSystemWebApi)'
2025-05-19 13:01:30.436 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Admin/add-customer - 200 null application/json; charset=utf-8 225.1401ms
2025-05-19 13:01:54.775 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/users - null null
2025-05-19 13:01:54.782 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi)'
2025-05-19 13:01:54.788 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InsurenceManagementSystemWebApi.Applications.DTOs.UserWithRoleResponseDto]]] GetAllUsers() on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 13:01:54.853 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
2025-05-19 13:01:54.873 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.UserWithRoleResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 13:01:54.883 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi) in 91.7464ms
2025-05-19 13:01:54.884 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi)'
2025-05-19 13:01:54.886 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/users - 200 null application/json; charset=utf-8 112.5429ms
2025-05-19 13:07:19.986 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 13:07:20.013 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 27.0554ms
2025-05-19 13:07:20.078 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui.css - null null
2025-05-19 13:07:20.078 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-standalone-preset.js - null null
2025-05-19 13:07:20.078 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-bundle.js - null null
2025-05-19 13:07:20.084 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 13:07:20.084 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 13:07:20.098 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 14.1114ms
2025-05-19 13:07:20.163 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-19 13:07:20.163 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-19 13:07:20.167 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 82.8882ms
2025-05-19 13:07:20.166 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui.css - 200 152034 text/css 87.6395ms
2025-05-19 13:07:20.167 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 89.1562ms
2025-05-19 13:07:20.192 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-19 13:07:20.194 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 116.3904ms
2025-05-19 13:07:20.300 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 13:07:20.312 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/favicon-32x32.png - null null
2025-05-19 13:07:20.318 +05:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-05-19 13:07:20.323 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/favicon-32x32.png - 200 628 image/png 10.8767ms
2025-05-19 13:07:20.347 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.6681ms
2025-05-19 13:07:24.617 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 13:07:24.626 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 9.2288ms
2025-05-19 13:07:24.663 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-bundle.js - null null
2025-05-19 13:07:24.663 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui.css - null null
2025-05-19 13:07:24.663 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 13:07:24.663 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 13:07:24.680 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-19 13:07:24.687 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 24.0538ms
2025-05-19 13:07:24.689 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui.css - 200 152034 text/css 26.3ms
2025-05-19 13:07:24.663 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-standalone-preset.js - null null
2025-05-19 13:07:24.680 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-19 13:07:24.695 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.6752ms
2025-05-19 13:07:24.709 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-19 13:07:24.709 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 46.3139ms
2025-05-19 13:07:24.714 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 51.1991ms
2025-05-19 13:07:24.789 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 13:07:24.794 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/favicon-32x32.png - null null
2025-05-19 13:07:24.798 +05:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-05-19 13:07:24.809 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/favicon-32x32.png - 200 628 image/png 15.0983ms
2025-05-19 13:07:24.817 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.0355ms
2025-05-19 13:07:25.024 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 13:07:25.031 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 7.6957ms
2025-05-19 13:07:25.104 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-bundle.js - null null
2025-05-19 13:07:25.104 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui.css - null null
2025-05-19 13:07:25.104 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 13:07:25.115 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-19 13:07:25.104 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-standalone-preset.js - null null
2025-05-19 13:07:25.104 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 13:07:25.122 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui.css - 200 152034 text/css 17.9954ms
2025-05-19 13:07:25.120 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 16.2533ms
2025-05-19 13:07:25.120 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-19 13:07:25.129 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-19 13:07:25.139 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.7032ms
2025-05-19 13:07:25.142 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 37.9649ms
2025-05-19 13:07:25.143 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 39.1106ms
2025-05-19 13:07:25.214 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 13:07:25.223 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/favicon-32x32.png - null null
2025-05-19 13:07:25.226 +05:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-05-19 13:07:25.228 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/favicon-32x32.png - 200 628 image/png 5.2007ms
2025-05-19 13:07:25.229 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.8742ms
2025-05-19 13:07:25.281 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 13:07:25.298 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 16.8638ms
2025-05-19 13:07:25.391 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui.css - null null
2025-05-19 13:07:25.396 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-bundle.js - null null
2025-05-19 13:07:25.398 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 13:07:25.398 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-standalone-preset.js - null null
2025-05-19 13:07:25.408 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 10.4107ms
2025-05-19 13:07:25.398 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 13:07:25.399 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-19 13:07:25.418 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-19 13:07:25.418 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-19 13:07:25.433 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 34.8093ms
2025-05-19 13:07:25.427 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui.css - 200 152034 text/css 36.2229ms
2025-05-19 13:07:25.438 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.4613ms
2025-05-19 13:07:25.440 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 44.1841ms
2025-05-19 13:07:25.444 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 13:07:25.461 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 17.2856ms
2025-05-19 13:07:25.504 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui.css - null null
2025-05-19 13:07:25.504 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-bundle.js - null null
2025-05-19 13:07:25.504 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 13:07:25.507 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-19 13:07:25.504 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-standalone-preset.js - null null
2025-05-19 13:07:25.515 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui.css - 200 152034 text/css 10.9629ms
2025-05-19 13:07:25.504 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 13:07:25.519 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 14.6508ms
2025-05-19 13:07:25.516 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-19 13:07:25.522 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-19 13:07:25.525 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 21.1253ms
2025-05-19 13:07:25.531 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 27.2174ms
2025-05-19 13:07:25.532 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 28.3177ms
2025-05-19 13:07:25.655 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 13:07:25.655 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/favicon-32x32.png - null null
2025-05-19 13:07:25.661 +05:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-05-19 13:07:25.662 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/favicon-32x32.png - 200 628 image/png 7.8136ms
2025-05-19 13:07:25.670 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.049ms
2025-05-19 13:09:25.603 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Admin/available-policy - application/json 114
2025-05-19 13:09:25.615 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-05-19 13:09:25.623 +05:30 [INF] Route matched with {action = "AddAvailablePolicy", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAvailablePolicy(InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 13:09:25.928 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AvailablePolicies] ([BasePremium], [CoverageDetails], [Name], [ValidityPeriod])
OUTPUT INSERTED.[AvailablePolicyId]
VALUES (@p0, @p1, @p2, @p3);
2025-05-19 13:09:25.934 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-05-19 13:09:25.935 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.AddAvailablePolicy (InsurenceManagementSystemWebApi) in 309.8353ms
2025-05-19 13:09:25.939 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-05-19 13:09:25.942 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Admin/available-policy - 200 null text/plain; charset=utf-8 339.014ms
2025-05-19 13:09:59.169 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Customer/request-policy - application/json 46
2025-05-19 13:09:59.181 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.RequestPolicy (InsurenceManagementSystemWebApi)'
2025-05-19 13:09:59.189 +05:30 [INF] Route matched with {action = "RequestPolicy", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPolicy(InsurenceManagementSystemWebApi.Applications.DTOs.PolicyRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-05-19 13:09:59.218 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PolicyRequests] ([AvailablePolicyId], [CustomerId], [RequestedOn], [Status])
OUTPUT INSERTED.[RequestId]
VALUES (@p0, @p1, @p2, @p3);
2025-05-19 13:09:59.224 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-05-19 13:09:59.225 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.RequestPolicy (InsurenceManagementSystemWebApi) in 30.1633ms
2025-05-19 13:09:59.227 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.RequestPolicy (InsurenceManagementSystemWebApi)'
2025-05-19 13:09:59.229 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Customer/request-policy - 200 null text/plain; charset=utf-8 59.2652ms
2025-05-19 13:10:13.142 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/policy-requests?page=1&size=10 - null null
2025-05-19 13:10:13.147 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllPolicyRequests (InsurenceManagementSystemWebApi)'
2025-05-19 13:10:13.154 +05:30 [INF] Route matched with {action = "GetAllPolicyRequests", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PolicyRequestStatusResponseDto]]] GetAllPolicyRequests(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 13:10:13.178 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[RequestId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[RequestedOn], [p].[Status]
FROM [PolicyRequests] AS [p]
2025-05-19 13:10:13.184 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PolicyRequestStatusResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 13:10:13.193 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllPolicyRequests (InsurenceManagementSystemWebApi) in 34.3827ms
2025-05-19 13:10:13.194 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllPolicyRequests (InsurenceManagementSystemWebApi)'
2025-05-19 13:10:13.195 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/policy-requests?page=1&size=10 - 200 null application/json; charset=utf-8 53.2475ms
2025-05-19 13:10:54.976 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5016/api/Admin/approve-policy-request/5 - application/json 18
2025-05-19 13:10:54.987 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.ApprovePolicyRequest (InsurenceManagementSystemWebApi)'
2025-05-19 13:10:54.994 +05:30 [INF] Route matched with {action = "ApprovePolicyRequest", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApprovePolicyRequest(InsurenceManagementSystemWebApi.Applications.DTOs.AssignAgentRequestDto, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 13:10:55.030 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__requestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[RequestId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[RequestedOn], [p].[Status], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[Name], [a].[ValidityPeriod]
FROM [PolicyRequests] AS [p]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
WHERE [p].[RequestId] = @__requestId_0
2025-05-19 13:10:55.053 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [PolicyRequests] SET [AvailablePolicyId] = @p0, [CustomerId] = @p1, [RequestedOn] = @p2, [Status] = @p3
OUTPUT 1
WHERE [RequestId] = @p4;
2025-05-19 13:10:55.082 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Policies] ([AgentId], [AvailablePolicyId], [CustomerId], [ExpiryDate], [IssuedDate])
OUTPUT INSERTED.[PolicyId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-19 13:10:55.098 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AgentId], [CreatedAt], [CustomerId], [Message])
OUTPUT INSERTED.[NotificationId]
VALUES (@p0, @p1, @p2, @p3);
2025-05-19 13:10:55.102 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AgentId], [CreatedAt], [CustomerId], [Message])
OUTPUT INSERTED.[NotificationId]
VALUES (@p0, @p1, @p2, @p3);
2025-05-19 13:10:55.104 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-05-19 13:10:55.106 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.ApprovePolicyRequest (InsurenceManagementSystemWebApi) in 107.5562ms
2025-05-19 13:10:55.108 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.ApprovePolicyRequest (InsurenceManagementSystemWebApi)'
2025-05-19 13:10:55.110 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5016/api/Admin/approve-policy-request/5 - 200 null text/plain; charset=utf-8 134.0104ms
2025-05-19 13:11:33.037 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Customer/policies/3 - null null
2025-05-19 13:11:33.047 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 13:11:33.051 +05:30 [INF] Route matched with {action = "GetRegisteredPolicies", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRegisteredPolicies(Int32) on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-05-19 13:11:33.085 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [a].[AgentId], [a].[ContactInfo], [a].[Name], [a].[UserId], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[Name], [a0].[ValidityPeriod]
FROM [Policies] AS [p]
INNER JOIN [Agents] AS [a] ON [p].[AgentId] = [a].[AgentId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
WHERE [p].[CustomerId] = @__customerId_0
2025-05-19 13:11:33.091 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerPoliciesResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 13:11:33.096 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi) in 43.0334ms
2025-05-19 13:11:33.098 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 13:11:33.099 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Customer/policies/3 - 200 null application/json; charset=utf-8 61.6061ms
2025-05-19 13:11:56.281 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Agent/2/assigned-policies - null null
2025-05-19 13:11:56.289 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AgentController.GetAssignedPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 13:11:56.304 +05:30 [INF] Route matched with {action = "GetAssignedPolicies", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignedPolicies(Int32) on controller InsurenceManagementSystemWebApi.Controllers.AgentController (InsurenceManagementSystemWebApi).
2025-05-19 13:11:56.336 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__agentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[Name], [a].[ValidityPeriod], [c].[CustomerId], [c].[Address], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UserId], [a0].[AgentId], [a0].[ContactInfo], [a0].[Name], [a0].[UserId]
FROM [Policies] AS [p]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
INNER JOIN [Customers] AS [c] ON [p].[CustomerId] = [c].[CustomerId]
INNER JOIN [Agents] AS [a0] ON [p].[AgentId] = [a0].[AgentId]
WHERE [p].[AgentId] = @__agentId_0
2025-05-19 13:11:56.341 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AgentAssignedPolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 13:14:10.694 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AgentController.GetAssignedPolicies (InsurenceManagementSystemWebApi) in 134387.0183ms
2025-05-19 13:14:10.695 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AgentController.GetAssignedPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 13:14:10.698 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at InsurenceManagementSystemWebApi.Applications.Services.AgentService.<GetAssignedPoliciesAsync>b__9_0(Policy p) in C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi\Applications\Services\AgentService.cs:line 74
   at System.Linq.Enumerable.SelectListIterator`2.MoveNext()
   at System.Text.Json.Serialization.Converters.IEnumerableDefaultConverter`2.OnWriteResume(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonCollectionConverter`2.OnTryWrite(Utf8JsonWriter writer, TCollection value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.SerializeAsync(PipeWriter pipeWriter, T rootValue, Int32 flushThreshold, CancellationToken cancellationToken, Object rootValueBoxed)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-19 13:14:10.758 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Agent/2/assigned-policies - 500 null text/plain; charset=utf-8 134476.3547ms
2025-05-19 13:14:48.205 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 13:14:48.224 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 18.4887ms
2025-05-19 13:14:48.295 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 13:14:48.295 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 13:14:48.299 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 4.1144ms
2025-05-19 13:14:48.309 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.692ms
2025-05-19 13:14:48.603 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 13:14:48.621 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.2361ms
2025-05-19 13:15:08.203 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Agent/2/assigned-policies - null null
2025-05-19 13:15:08.210 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AgentController.GetAssignedPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 13:15:08.218 +05:30 [INF] Route matched with {action = "GetAssignedPolicies", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignedPolicies(Int32) on controller InsurenceManagementSystemWebApi.Controllers.AgentController (InsurenceManagementSystemWebApi).
2025-05-19 13:15:08.252 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__agentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[Name], [a].[ValidityPeriod], [c].[CustomerId], [c].[Address], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UserId], [a0].[AgentId], [a0].[ContactInfo], [a0].[Name], [a0].[UserId]
FROM [Policies] AS [p]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
INNER JOIN [Customers] AS [c] ON [p].[CustomerId] = [c].[CustomerId]
INNER JOIN [Agents] AS [a0] ON [p].[AgentId] = [a0].[AgentId]
WHERE [p].[AgentId] = @__agentId_0
2025-05-19 13:54:33.430 +05:30 [INF] User profile is available. Using 'C:\Users\2403521\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-19 13:54:33.712 +05:30 [INF] Now listening on: http://localhost:5016
2025-05-19 13:54:33.799 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-19 13:54:33.800 +05:30 [INF] Hosting environment: Development
2025-05-19 13:54:33.801 +05:30 [INF] Content root path: C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi
2025-05-19 13:54:34.528 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 13:54:36.561 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 2051.6289ms
2025-05-19 13:54:36.588 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 13:54:36.588 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 13:54:36.599 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 11.874ms
2025-05-19 13:54:36.666 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 78.8643ms
2025-05-19 13:54:36.759 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 13:54:36.841 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 82.0011ms
2025-05-19 13:55:02.448 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Agent/2/assigned-policies - null null
2025-05-19 13:55:02.471 +05:30 [WRN] Failed to determine the https port for redirect.
2025-05-19 13:55:02.476 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AgentController.GetAssignedPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 13:55:02.506 +05:30 [INF] Route matched with {action = "GetAssignedPolicies", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignedPolicies(Int32) on controller InsurenceManagementSystemWebApi.Controllers.AgentController (InsurenceManagementSystemWebApi).
2025-05-19 13:55:05.385 +05:30 [INF] Executed DbCommand (168ms) [Parameters=[@__agentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[Name], [a].[ValidityPeriod], [c].[CustomerId], [c].[Address], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UserId], [a0].[AgentId], [a0].[ContactInfo], [a0].[Name], [a0].[UserId]
FROM [Policies] AS [p]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
INNER JOIN [Customers] AS [c] ON [p].[CustomerId] = [c].[CustomerId]
INNER JOIN [Agents] AS [a0] ON [p].[AgentId] = [a0].[AgentId]
WHERE [p].[AgentId] = @__agentId_0
2025-05-19 14:03:53.198 +05:30 [INF] User profile is available. Using 'C:\Users\2403521\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-19 14:03:53.437 +05:30 [INF] Now listening on: http://localhost:5016
2025-05-19 14:03:53.515 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-19 14:03:53.516 +05:30 [INF] Hosting environment: Development
2025-05-19 14:03:53.517 +05:30 [INF] Content root path: C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi
2025-05-19 14:03:54.325 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 14:03:57.208 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 2893.349ms
2025-05-19 14:03:57.223 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 14:03:57.226 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 4.4414ms
2025-05-19 14:03:57.294 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 14:03:57.327 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.858ms
2025-05-19 14:03:57.461 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 14:03:57.507 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 45.7052ms
2025-05-19 14:04:06.915 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Agent/2/assigned-policies - null null
2025-05-19 14:04:06.930 +05:30 [WRN] Failed to determine the https port for redirect.
2025-05-19 14:04:06.939 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AgentController.GetAssignedPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 14:04:06.958 +05:30 [INF] Route matched with {action = "GetAssignedPolicies", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignedPolicies(Int32) on controller InsurenceManagementSystemWebApi.Controllers.AgentController (InsurenceManagementSystemWebApi).
2025-05-19 14:04:09.867 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[@__agentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[Name], [a].[ValidityPeriod], [c].[CustomerId], [c].[Address], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UserId], [a0].[AgentId], [a0].[ContactInfo], [a0].[Name], [a0].[UserId]
FROM [Policies] AS [p]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
INNER JOIN [Customers] AS [c] ON [p].[CustomerId] = [c].[CustomerId]
INNER JOIN [Agents] AS [a0] ON [p].[AgentId] = [a0].[AgentId]
WHERE [p].[AgentId] = @__agentId_0
2025-05-19 14:04:10.004 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AgentAssignedPolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 14:04:10.016 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AgentController.GetAssignedPolicies (InsurenceManagementSystemWebApi) in 3053.8391ms
2025-05-19 14:04:10.017 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AgentController.GetAssignedPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 14:04:10.025 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Agent/2/assigned-policies - 200 null application/json; charset=utf-8 3109.6881ms
2025-05-19 14:07:45.177 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Customer/policies/4 - null null
2025-05-19 14:07:45.192 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 14:07:45.199 +05:30 [INF] Route matched with {action = "GetRegisteredPolicies", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRegisteredPolicies(Int32) on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-05-19 14:07:45.239 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [a].[AgentId], [a].[ContactInfo], [a].[Name], [a].[UserId], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[Name], [a0].[ValidityPeriod]
FROM [Policies] AS [p]
INNER JOIN [Agents] AS [a] ON [p].[AgentId] = [a].[AgentId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
WHERE [p].[CustomerId] = @__customerId_0
2025-05-19 14:07:45.242 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerPoliciesResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 14:07:45.245 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi) in 44.5852ms
2025-05-19 14:07:45.247 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 14:07:45.248 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Customer/policies/4 - 200 null application/json; charset=utf-8 71.4103ms
2025-05-19 14:07:51.516 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Customer/policies/3 - null null
2025-05-19 14:07:51.525 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 14:07:51.532 +05:30 [INF] Route matched with {action = "GetRegisteredPolicies", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRegisteredPolicies(Int32) on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-05-19 14:07:51.584 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [a].[AgentId], [a].[ContactInfo], [a].[Name], [a].[UserId], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[Name], [a0].[ValidityPeriod]
FROM [Policies] AS [p]
INNER JOIN [Agents] AS [a] ON [p].[AgentId] = [a].[AgentId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
WHERE [p].[CustomerId] = @__customerId_0
2025-05-19 14:07:51.587 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerPoliciesResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 14:07:51.592 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi) in 56.2701ms
2025-05-19 14:07:51.593 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 14:07:51.595 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Customer/policies/3 - 200 null application/json; charset=utf-8 78.5523ms
2025-05-19 14:13:37.503 +05:30 [INF] User profile is available. Using 'C:\Users\2403521\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-19 14:13:37.707 +05:30 [INF] Now listening on: http://localhost:5016
2025-05-19 14:13:37.777 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-19 14:13:37.778 +05:30 [INF] Hosting environment: Development
2025-05-19 14:13:37.779 +05:30 [INF] Content root path: C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi
2025-05-19 14:13:38.691 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 14:13:39.087 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 414.1266ms
2025-05-19 14:13:39.118 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 14:13:39.122 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 14:13:39.123 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 5.151ms
2025-05-19 14:13:39.159 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.4682ms
2025-05-19 14:13:39.236 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 14:13:39.291 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.5445ms
2025-05-19 14:14:02.000 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Customer/policies/3 - null null
2025-05-19 14:14:02.044 +05:30 [WRN] Failed to determine the https port for redirect.
2025-05-19 14:14:02.049 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 14:14:02.077 +05:30 [INF] Route matched with {action = "GetRegisteredPolicies", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRegisteredPolicies(Int32) on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-05-19 14:14:03.463 +05:30 [INF] Executed DbCommand (67ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [a].[AgentId], [a].[ContactInfo], [a].[Name], [a].[UserId], [a0].[AvailablePolicyId], [a0].[BasePremium], [a0].[CoverageDetails], [a0].[Name], [a0].[ValidityPeriod]
FROM [Policies] AS [p]
INNER JOIN [Agents] AS [a] ON [p].[AgentId] = [a].[AgentId]
INNER JOIN [AvailablePolicies] AS [a0] ON [p].[AvailablePolicyId] = [a0].[AvailablePolicyId]
WHERE [p].[CustomerId] = @__customerId_0
2025-05-19 14:14:03.559 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerPoliciesResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 14:14:03.580 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi) in 1497.1758ms
2025-05-19 14:14:03.584 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetRegisteredPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 14:14:03.592 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Customer/policies/3 - 200 null application/json; charset=utf-8 1596.4238ms
2025-05-19 14:14:57.053 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Customer/file-claim - application/json 64
2025-05-19 14:14:57.058 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.FileClaim (InsurenceManagementSystemWebApi)'
2025-05-19 14:14:57.064 +05:30 [INF] Route matched with {action = "FileClaim", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FileClaim(InsurenceManagementSystemWebApi.Applications.DTOs.ClaimFilingRequestDtoForCustomer) on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-05-19 14:14:57.208 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Claims] ([AgentId], [ClaimAmount], [CustomerId], [FiledDate], [PolicyId], [Status])
OUTPUT INSERTED.[ClaimId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-19 14:14:57.230 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-05-19 14:14:57.232 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.FileClaim (InsurenceManagementSystemWebApi) in 163.2872ms
2025-05-19 14:14:57.235 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.FileClaim (InsurenceManagementSystemWebApi)'
2025-05-19 14:14:57.237 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Customer/file-claim - 200 null text/plain; charset=utf-8 183.8192ms
2025-05-19 14:15:23.869 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Customer/claims/3 - null null
2025-05-19 14:15:23.894 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyClaims (InsurenceManagementSystemWebApi)'
2025-05-19 14:15:23.900 +05:30 [INF] Route matched with {action = "GetMyClaims", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyClaims(Int32) on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-05-19 14:15:23.962 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[Name], [a].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
WHERE [c].[CustomerId] = @__customerId_0
2025-05-19 14:15:23.966 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 14:15:23.975 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyClaims (InsurenceManagementSystemWebApi) in 72.9086ms
2025-05-19 14:15:23.977 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyClaims (InsurenceManagementSystemWebApi)'
2025-05-19 14:15:23.978 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Customer/claims/3 - 200 null application/json; charset=utf-8 108.834ms
2025-05-19 14:15:45.036 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/claims?page=1&size=10 - null null
2025-05-19 14:15:45.051 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-05-19 14:15:45.056 +05:30 [INF] Route matched with {action = "GetAllClaims", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer]]] GetAllClaims(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 14:15:45.080 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[Name], [a].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
2025-05-19 14:15:45.088 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForAdmin, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 14:15:45.098 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi) in 40.1263ms
2025-05-19 14:15:45.100 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-05-19 14:15:45.101 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/claims?page=1&size=10 - 200 null application/json; charset=utf-8 65.9681ms
2025-05-19 14:24:18.187 +05:30 [INF] User profile is available. Using 'C:\Users\2403521\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-19 14:24:18.453 +05:30 [INF] Now listening on: http://localhost:5016
2025-05-19 14:24:18.539 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-19 14:24:18.541 +05:30 [INF] Hosting environment: Development
2025-05-19 14:24:18.541 +05:30 [INF] Content root path: C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi
2025-05-19 14:24:19.648 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 14:24:21.975 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 2344.5759ms
2025-05-19 14:24:21.987 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 14:24:21.990 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 3.7838ms
2025-05-19 14:24:22.023 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 14:24:22.111 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.1889ms
2025-05-19 14:24:22.154 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 14:24:22.249 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.3942ms
2025-05-19 14:24:40.842 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/claims?page=1&size=10 - null null
2025-05-19 14:24:40.850 +05:30 [WRN] Failed to determine the https port for redirect.
2025-05-19 14:24:40.855 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-05-19 14:24:40.874 +05:30 [INF] Route matched with {action = "GetAllClaims", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer]]] GetAllClaims(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 14:24:43.690 +05:30 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[Name], [a].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
2025-05-19 14:24:43.777 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForAdmin, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 14:24:43.794 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi) in 2913.6118ms
2025-05-19 14:24:43.796 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllClaims (InsurenceManagementSystemWebApi)'
2025-05-19 14:24:43.805 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/claims?page=1&size=10 - 200 null application/json; charset=utf-8 2962.8344ms
2025-05-19 14:25:23.659 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Admin/approve-claim/8 - null 0
2025-05-19 14:25:23.668 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.ApproveClaim (InsurenceManagementSystemWebApi)'
2025-05-19 14:25:23.673 +05:30 [INF] Route matched with {action = "ApproveClaim", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveClaim(Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 14:25:23.857 +05:30 [INF] Executed DbCommand (125ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status]
FROM [Claims] AS [c]
WHERE [c].[ClaimId] = @__p_0
2025-05-19 14:25:23.922 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Claims] SET [AgentId] = @p0, [ClaimAmount] = @p1, [CustomerId] = @p2, [FiledDate] = @p3, [PolicyId] = @p4, [Status] = @p5
OUTPUT 1
WHERE [ClaimId] = @p6;
2025-05-19 14:25:23.974 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AgentId], [CreatedAt], [CustomerId], [Message])
OUTPUT INSERTED.[NotificationId]
VALUES (@p0, @p1, @p2, @p3);
2025-05-19 14:25:23.989 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-05-19 14:25:23.990 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.ApproveClaim (InsurenceManagementSystemWebApi) in 310.2754ms
2025-05-19 14:25:23.992 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.ApproveClaim (InsurenceManagementSystemWebApi)'
2025-05-19 14:25:23.993 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Admin/approve-claim/8 - 200 null text/plain; charset=utf-8 334.78ms
2025-05-19 14:27:20.180 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Customer/claims/3 - null null
2025-05-19 14:27:20.186 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyClaims (InsurenceManagementSystemWebApi)'
2025-05-19 14:27:20.198 +05:30 [INF] Route matched with {action = "GetMyClaims", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyClaims(Int32) on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-05-19 14:27:20.257 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[ClaimId], [c].[AgentId], [c].[ClaimAmount], [c].[CustomerId], [c].[FiledDate], [c].[PolicyId], [c].[Status], [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[Name], [a].[ValidityPeriod]
FROM [Claims] AS [c]
INNER JOIN [Policies] AS [p] ON [c].[PolicyId] = [p].[PolicyId]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
WHERE [c].[CustomerId] = @__customerId_0
2025-05-19 14:27:20.260 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.ClaimStatusResponseDtoForCustomer, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 14:27:20.265 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyClaims (InsurenceManagementSystemWebApi) in 65.6318ms
2025-05-19 14:27:20.268 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyClaims (InsurenceManagementSystemWebApi)'
2025-05-19 14:27:20.269 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Customer/claims/3 - 200 null application/json; charset=utf-8 88.8432ms
2025-05-19 14:27:43.680 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Customer/notifications/3 - null null
2025-05-19 14:27:43.686 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyNotifications (InsurenceManagementSystemWebApi)'
2025-05-19 14:27:43.690 +05:30 [INF] Route matched with {action = "GetMyNotifications", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyNotifications(Int32) on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-05-19 14:27:43.712 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NotificationId], [n].[AgentId], [n].[CreatedAt], [n].[CustomerId], [n].[Message]
FROM [Notifications] AS [n]
WHERE [n].[CustomerId] = @__customerId_0
2025-05-19 14:27:43.714 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.NotificationResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 14:27:43.721 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyNotifications (InsurenceManagementSystemWebApi) in 29.0895ms
2025-05-19 14:27:43.722 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyNotifications (InsurenceManagementSystemWebApi)'
2025-05-19 14:27:43.723 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Customer/notifications/3 - 200 null application/json; charset=utf-8 46.0847ms
2025-05-19 14:29:28.040 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Agent/2/notifications - null null
2025-05-19 14:29:28.053 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AgentController.GetMyNotifications (InsurenceManagementSystemWebApi)'
2025-05-19 14:29:28.060 +05:30 [INF] Route matched with {action = "GetMyNotifications", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyNotifications(Int32) on controller InsurenceManagementSystemWebApi.Controllers.AgentController (InsurenceManagementSystemWebApi).
2025-05-19 14:29:28.075 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__agentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NotificationId], [n].[AgentId], [n].[CreatedAt], [n].[CustomerId], [n].[Message]
FROM [Notifications] AS [n]
WHERE [n].[AgentId] = @__agentId_0
2025-05-19 14:29:28.080 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.NotificationResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 14:29:28.083 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AgentController.GetMyNotifications (InsurenceManagementSystemWebApi) in 19.9672ms
2025-05-19 14:29:28.084 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AgentController.GetMyNotifications (InsurenceManagementSystemWebApi)'
2025-05-19 14:29:28.085 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Agent/2/notifications - 200 null application/json; charset=utf-8 45.7413ms
2025-05-19 15:03:46.335 +05:30 [INF] User profile is available. Using 'C:\Users\2403521\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-19 15:03:46.883 +05:30 [INF] Now listening on: http://localhost:5016
2025-05-19 15:03:47.117 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-19 15:03:47.122 +05:30 [INF] Hosting environment: Development
2025-05-19 15:03:47.125 +05:30 [INF] Content root path: C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi
2025-05-19 15:03:47.993 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 15:03:52.232 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 4254.6086ms
2025-05-19 15:03:52.358 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 15:03:52.401 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 45.392ms
2025-05-19 15:03:52.425 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 15:03:52.533 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 107.7752ms
2025-05-19 15:03:52.652 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 15:03:52.753 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 100.5343ms
2025-05-19 15:04:14.306 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Customer/request-policy - application/json 47
2025-05-19 15:04:14.371 +05:30 [WRN] Failed to determine the https port for redirect.
2025-05-19 15:04:14.385 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.RequestPolicy (InsurenceManagementSystemWebApi)'
2025-05-19 15:04:14.498 +05:30 [INF] Route matched with {action = "RequestPolicy", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RequestPolicy(InsurenceManagementSystemWebApi.Applications.DTOs.PolicyRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-05-19 15:04:19.177 +05:30 [INF] Executed DbCommand (227ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PolicyRequests] ([AvailablePolicyId], [CustomerId], [RequestedOn], [Status])
OUTPUT INSERTED.[RequestId]
VALUES (@p0, @p1, @p2, @p3);
2025-05-19 15:04:19.252 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-05-19 15:04:19.261 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.RequestPolicy (InsurenceManagementSystemWebApi) in 4755.1936ms
2025-05-19 15:04:19.265 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.RequestPolicy (InsurenceManagementSystemWebApi)'
2025-05-19 15:04:19.284 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Customer/request-policy - 200 null text/plain; charset=utf-8 4978.3391ms
2025-05-19 15:04:39.238 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/policy-requests?page=1&size=10 - null null
2025-05-19 15:04:39.257 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllPolicyRequests (InsurenceManagementSystemWebApi)'
2025-05-19 15:04:39.273 +05:30 [INF] Route matched with {action = "GetAllPolicyRequests", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PolicyRequestStatusResponseDto]]] GetAllPolicyRequests(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 15:04:39.762 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[RequestId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[RequestedOn], [p].[Status]
FROM [PolicyRequests] AS [p]
2025-05-19 15:04:39.805 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PolicyRequestStatusResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 15:04:39.840 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllPolicyRequests (InsurenceManagementSystemWebApi) in 560.2851ms
2025-05-19 15:04:39.847 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllPolicyRequests (InsurenceManagementSystemWebApi)'
2025-05-19 15:04:39.853 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/policy-requests?page=1&size=10 - 200 null application/json; charset=utf-8 613.5876ms
2025-05-19 15:05:25.345 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5016/api/Admin/approve-policy-request/6 - application/json 18
2025-05-19 15:05:25.383 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.ApprovePolicyRequest (InsurenceManagementSystemWebApi)'
2025-05-19 15:05:25.404 +05:30 [INF] Route matched with {action = "ApprovePolicyRequest", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApprovePolicyRequest(InsurenceManagementSystemWebApi.Applications.DTOs.AssignAgentRequestDto, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 15:05:25.645 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__requestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[RequestId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[RequestedOn], [p].[Status], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[Name], [a].[ValidityPeriod]
FROM [PolicyRequests] AS [p]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
WHERE [p].[RequestId] = @__requestId_0
2025-05-19 15:05:25.742 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [PolicyRequests] SET [AvailablePolicyId] = @p0, [CustomerId] = @p1, [RequestedOn] = @p2, [Status] = @p3
OUTPUT 1
WHERE [RequestId] = @p4;
2025-05-19 15:05:25.784 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Policies] ([AgentId], [AvailablePolicyId], [CustomerId], [ExpiryDate], [IssuedDate])
OUTPUT INSERTED.[PolicyId]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-19 15:05:25.844 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AgentId], [CreatedAt], [CustomerId], [Message])
OUTPUT INSERTED.[NotificationId]
VALUES (@p0, @p1, @p2, @p3);
2025-05-19 15:05:25.920 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([AgentId], [CreatedAt], [CustomerId], [Message])
OUTPUT INSERTED.[NotificationId]
VALUES (@p0, @p1, @p2, @p3);
2025-05-19 15:05:25.943 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-05-19 15:05:25.954 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.ApprovePolicyRequest (InsurenceManagementSystemWebApi) in 540.3552ms
2025-05-19 15:05:25.968 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.ApprovePolicyRequest (InsurenceManagementSystemWebApi)'
2025-05-19 15:05:25.975 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5016/api/Admin/approve-policy-request/6 - 200 null text/plain; charset=utf-8 629.9817ms
2025-05-19 15:05:43.023 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Agent/2/assigned-policies - null null
2025-05-19 15:05:43.035 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AgentController.GetAssignedPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 15:05:43.054 +05:30 [INF] Route matched with {action = "GetAssignedPolicies", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignedPolicies(Int32) on controller InsurenceManagementSystemWebApi.Controllers.AgentController (InsurenceManagementSystemWebApi).
2025-05-19 15:05:43.110 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__agentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PolicyId], [p].[AgentId], [p].[AvailablePolicyId], [p].[CustomerId], [p].[ExpiryDate], [p].[IssuedDate], [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[Name], [a].[ValidityPeriod], [c].[CustomerId], [c].[Address], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UserId], [a0].[AgentId], [a0].[ContactInfo], [a0].[Name], [a0].[UserId]
FROM [Policies] AS [p]
INNER JOIN [AvailablePolicies] AS [a] ON [p].[AvailablePolicyId] = [a].[AvailablePolicyId]
INNER JOIN [Customers] AS [c] ON [p].[CustomerId] = [c].[CustomerId]
INNER JOIN [Agents] AS [a0] ON [p].[AgentId] = [a0].[AgentId]
WHERE [p].[AgentId] = @__agentId_0
2025-05-19 15:05:43.227 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AgentAssignedPolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 15:05:43.246 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AgentController.GetAssignedPolicies (InsurenceManagementSystemWebApi) in 186.3289ms
2025-05-19 15:05:43.271 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AgentController.GetAssignedPolicies (InsurenceManagementSystemWebApi)'
2025-05-19 15:05:43.281 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Agent/2/assigned-policies - 200 null application/json; charset=utf-8 258.123ms
2025-05-19 15:06:26.226 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Customer/notifications/3 - null null
2025-05-19 15:06:26.262 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyNotifications (InsurenceManagementSystemWebApi)'
2025-05-19 15:06:26.281 +05:30 [INF] Route matched with {action = "GetMyNotifications", controller = "Customer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyNotifications(Int32) on controller InsurenceManagementSystemWebApi.Controllers.CustomerController (InsurenceManagementSystemWebApi).
2025-05-19 15:06:26.348 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[NotificationId], [n].[AgentId], [n].[CreatedAt], [n].[CustomerId], [n].[Message]
FROM [Notifications] AS [n]
WHERE [n].[CustomerId] = @__customerId_0
2025-05-19 15:06:26.366 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.NotificationResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 15:06:26.378 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyNotifications (InsurenceManagementSystemWebApi) in 80.8295ms
2025-05-19 15:06:26.388 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.CustomerController.GetMyNotifications (InsurenceManagementSystemWebApi)'
2025-05-19 15:06:26.391 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Customer/notifications/3 - 200 null application/json; charset=utf-8 165.1736ms
2025-05-19 15:08:29.855 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Agent/available-policies?page=1&size=10 - null null
2025-05-19 15:08:29.901 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AgentController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-05-19 15:08:29.925 +05:30 [INF] Route matched with {action = "GetAllAvailablePolicies", controller = "Agent"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto]]] GetAllAvailablePolicies(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AgentController (InsurenceManagementSystemWebApi).
2025-05-19 15:08:29.964 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[AvailablePolicyId], [a].[BasePremium], [a].[CoverageDetails], [a].[Name], [a].[ValidityPeriod]
FROM [AvailablePolicies] AS [a]
2025-05-19 15:08:29.971 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 15:08:29.986 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AgentController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi) in 50.0793ms
2025-05-19 15:08:29.988 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AgentController.GetAllAvailablePolicies (InsurenceManagementSystemWebApi)'
2025-05-19 15:08:29.990 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Agent/available-policies?page=1&size=10 - 200 null application/json; charset=utf-8 134.9979ms
2025-05-19 15:44:16.273 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/users - null null
2025-05-19 15:44:16.301 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi)'
2025-05-19 15:44:16.324 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InsurenceManagementSystemWebApi.Applications.DTOs.UserWithRoleResponseDto]]] GetAllUsers() on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 15:44:16.838 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
2025-05-19 15:44:16.899 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.UserWithRoleResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 15:44:16.912 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi) in 575.0415ms
2025-05-19 15:44:16.914 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi)'
2025-05-19 15:44:16.915 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/users - 200 null application/json; charset=utf-8 644.9758ms
2025-05-19 15:53:27.206 +05:30 [INF] Application is shutting down...
2025-05-19 15:56:15.452 +05:30 [INF] User profile is available. Using 'C:\Users\2403521\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-19 15:56:15.764 +05:30 [INF] Now listening on: http://localhost:5016
2025-05-19 15:56:15.894 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-19 15:56:15.896 +05:30 [INF] Hosting environment: Development
2025-05-19 15:56:15.900 +05:30 [INF] Content root path: C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi
2025-05-19 15:56:16.787 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 15:56:19.402 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 2632.8056ms
2025-05-19 15:56:19.457 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 15:56:19.457 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 15:56:19.467 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 11.9439ms
2025-05-19 15:56:19.568 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 111.6939ms
2025-05-19 15:56:19.655 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 15:56:19.743 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.9648ms
2025-05-19 15:56:34.315 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Customer/policies/3 - null null
2025-05-19 15:56:34.341 +05:30 [WRN] Failed to determine the https port for redirect.
2025-05-19 15:56:34.361 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2025-05-19 15:56:34.371 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-19 15:56:34.373 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Customer/policies/3 - 401 0 null 57.8631ms
2025-05-19 16:09:25.470 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/login - application/json 58
2025-05-19 16:09:25.482 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 16:09:25.516 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 16:09:28.338 +05:30 [INF] Executed DbCommand (127ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 16:09:28.788 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 16:09:28.801 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 3276.1054ms
2025-05-19 16:09:28.803 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 16:09:28.813 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Auth/login - 401 null application/json; charset=utf-8 3342.7248ms
2025-05-19 16:10:27.385 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/users - null null
2025-05-19 16:10:27.395 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi)'
2025-05-19 16:10:27.443 +05:30 [INF] Route matched with {action = "GetAllUsers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[InsurenceManagementSystemWebApi.Applications.DTOs.UserWithRoleResponseDto]]] GetAllUsers() on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 16:10:27.503 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
2025-05-19 16:10:27.513 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[System.Collections.Generic.IEnumerable`1[[InsurenceManagementSystemWebApi.Applications.DTOs.UserWithRoleResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-19 16:10:27.536 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi) in 86.1658ms
2025-05-19 16:10:27.542 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllUsers (InsurenceManagementSystemWebApi)'
2025-05-19 16:10:27.544 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/users - 200 null application/json; charset=utf-8 159.9188ms
2025-05-19 17:16:59.145 +05:30 [INF] User profile is available. Using 'C:\Users\2403521\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-19 17:16:59.675 +05:30 [INF] Now listening on: http://localhost:5016
2025-05-19 17:16:59.815 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-19 17:16:59.817 +05:30 [INF] Hosting environment: Development
2025-05-19 17:16:59.818 +05:30 [INF] Content root path: C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi
2025-05-19 17:17:00.867 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 17:17:04.471 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 3623.4927ms
2025-05-19 17:17:04.643 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 17:17:04.651 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 9.4385ms
2025-05-19 17:17:04.724 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 17:17:04.789 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.2236ms
2025-05-19 17:17:05.243 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 17:17:05.295 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.8053ms
2025-05-19 17:17:47.962 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/login - application/json 58
2025-05-19 17:17:47.987 +05:30 [WRN] Failed to determine the https port for redirect.
2025-05-19 17:17:47.993 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:17:48.044 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 17:18:03.699 +05:30 [INF] Executed DbCommand (203ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 17:19:12.565 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 84511.7039ms
2025-05-19 17:19:12.572 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:19:12.581 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at InsurenceManagementSystemWebApi.Applications.Services.AuthService.LoginAsync(LoginRequestDto dto) in C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi\Applications\Services\AuthService.cs:line 123
   at InsurenceManagementSystemWebApi.Controllers.AuthController.Login(LoginRequestDto request) in C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi\Controllers\AuthController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-19 17:19:12.687 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Auth/login - 500 null text/plain; charset=utf-8 84725.4339ms
2025-05-19 17:19:51.918 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/login - application/json 58
2025-05-19 17:19:51.934 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:19:51.939 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 17:19:57.101 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 17:20:47.976 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 17:20:50.853 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 58906.8965ms
2025-05-19 17:20:50.861 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:20:50.867 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Auth/login - 200 null application/json; charset=utf-8 58954.6269ms
2025-05-19 17:28:03.973 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/login - application/json 58
2025-05-19 17:28:03.983 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:28:04.001 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 17:28:26.067 +05:30 [INF] User profile is available. Using 'C:\Users\2403521\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-19 17:28:26.447 +05:30 [INF] Now listening on: http://localhost:5016
2025-05-19 17:28:26.645 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-19 17:28:26.647 +05:30 [INF] Hosting environment: Development
2025-05-19 17:28:26.648 +05:30 [INF] Content root path: C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi
2025-05-19 17:28:27.425 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 17:28:28.160 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 758.7637ms
2025-05-19 17:28:28.191 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 17:28:28.197 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 17:28:28.203 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 12.3777ms
2025-05-19 17:28:28.269 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.3727ms
2025-05-19 17:28:28.404 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 17:28:28.490 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.2804ms
2025-05-19 17:28:45.484 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/login - application/json 58
2025-05-19 17:28:45.499 +05:30 [WRN] Failed to determine the https port for redirect.
2025-05-19 17:28:45.509 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:28:45.550 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 17:28:50.068 +05:30 [INF] Executed DbCommand (93ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 17:28:50.544 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 4986.6505ms
2025-05-19 17:28:50.548 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:28:50.558 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at InsurenceManagementSystemWebApi.Applications.Services.AuthService.LoginAsync(LoginRequestDto dto) in C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi\Applications\Services\AuthService.cs:line 122
   at InsurenceManagementSystemWebApi.Controllers.AuthController.Login(LoginRequestDto request) in C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi\Controllers\AuthController.cs:line 43
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-19 17:28:50.671 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Auth/login - 500 null text/plain; charset=utf-8 5187.3676ms
2025-05-19 17:29:16.546 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/login - application/json 58
2025-05-19 17:29:16.554 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:29:16.557 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 17:29:19.213 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 17:29:19.375 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 17:29:19.386 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 2824.4044ms
2025-05-19 17:29:19.389 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:29:19.392 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Auth/login - 200 null application/json; charset=utf-8 2846.09ms
2025-05-19 17:29:20.232 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 17:29:20.268 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 36.7006ms
2025-05-19 17:29:20.327 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 17:29:20.328 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 17:29:20.343 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 16.3415ms
2025-05-19 17:29:20.407 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.3293ms
2025-05-19 17:29:20.476 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 17:29:20.525 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.1762ms
2025-05-19 17:29:30.062 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/login - application/json 58
2025-05-19 17:29:30.068 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:29:30.077 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 17:29:32.199 +05:30 [INF] Executed DbCommand (142ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 17:29:32.324 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 17:29:32.329 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 2247.5403ms
2025-05-19 17:29:32.332 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:29:32.335 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Auth/login - 200 null application/json; charset=utf-8 2273.1562ms
2025-05-19 17:30:50.800 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/login - application/json 66
2025-05-19 17:30:50.811 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:30:50.812 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 17:30:53.206 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 17:30:53.388 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AgentId], [a].[ContactInfo], [a].[Name], [a].[UserId]
FROM [Agents] AS [a]
WHERE [a].[UserId] = @__userId_0
2025-05-19 17:30:53.411 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 17:30:53.415 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 2598.2622ms
2025-05-19 17:30:53.418 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:30:53.420 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Auth/login - 200 null application/json; charset=utf-8 2619.9731ms
2025-05-19 17:35:06.259 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - null null
2025-05-19 17:35:06.281 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-05-19 17:35:06.289 +05:30 [INF] Route matched with {action = "GetAllCustomers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto]]] GetAllCustomers(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 17:35:06.345 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Address], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UserId]
FROM [Customers] AS [c]
2025-05-19 17:35:06.375 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 17:35:06.391 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi) in 92.5301ms
2025-05-19 17:35:06.394 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-05-19 17:35:06.395 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - 200 null application/json; charset=utf-8 135.9264ms
2025-05-19 17:35:31.741 +05:30 [INF] User profile is available. Using 'C:\Users\2403521\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-19 17:35:32.212 +05:30 [INF] Now listening on: http://localhost:5016
2025-05-19 17:35:32.381 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-19 17:35:32.385 +05:30 [INF] Hosting environment: Development
2025-05-19 17:35:32.388 +05:30 [INF] Content root path: C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi
2025-05-19 17:35:33.903 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 17:35:37.492 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 3612.7382ms
2025-05-19 17:35:37.530 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 17:35:37.531 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 17:35:37.537 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 7.4974ms
2025-05-19 17:35:37.588 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.624ms
2025-05-19 17:35:37.900 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 17:35:37.989 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.663ms
2025-05-19 17:35:46.575 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - null null
2025-05-19 17:35:46.586 +05:30 [WRN] Failed to determine the https port for redirect.
2025-05-19 17:35:46.592 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-05-19 17:35:46.599 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-19 17:35:46.600 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - 401 0 null 25.8016ms
2025-05-19 17:37:24.198 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/login - application/json 58
2025-05-19 17:37:24.208 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:37:24.229 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 17:37:33.691 +05:30 [INF] Executed DbCommand (186ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 17:37:34.196 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 17:37:34.217 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 9980.9118ms
2025-05-19 17:37:34.221 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:37:34.237 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Auth/login - 401 null application/json; charset=utf-8 10038.807ms
2025-05-19 17:39:50.340 +05:30 [INF] User profile is available. Using 'C:\Users\2403521\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-19 17:39:50.922 +05:30 [INF] Now listening on: http://localhost:5016
2025-05-19 17:39:51.122 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-19 17:39:51.127 +05:30 [INF] Hosting environment: Development
2025-05-19 17:39:51.131 +05:30 [INF] Content root path: C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi
2025-05-19 17:39:52.305 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 17:39:53.362 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 1074.9342ms
2025-05-19 17:39:54.782 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 17:39:54.790 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 9.4211ms
2025-05-19 17:39:55.017 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 17:39:55.082 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.9823ms
2025-05-19 17:39:56.465 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 17:39:56.552 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.9071ms
2025-05-19 17:40:19.177 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/login - application/json 58
2025-05-19 17:40:19.184 +05:30 [WRN] Failed to determine the https port for redirect.
2025-05-19 17:40:19.190 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:40:19.213 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 17:40:22.158 +05:30 [INF] Executed DbCommand (117ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 17:40:22.523 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 17:40:22.532 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 3310.2334ms
2025-05-19 17:40:22.534 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:40:22.542 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Auth/login - 401 null application/json; charset=utf-8 3365.7337ms
2025-05-19 17:41:22.634 +05:30 [INF] User profile is available. Using 'C:\Users\2403521\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-19 17:41:23.028 +05:30 [INF] Now listening on: http://localhost:5016
2025-05-19 17:41:23.206 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-05-19 17:41:23.208 +05:30 [INF] Hosting environment: Development
2025-05-19 17:41:23.210 +05:30 [INF] Content root path: C:\Users\2403521\Downloads\InsuranceManagementSystemFinal\InsuranceManagementSystem\InsuranceManagementSystem Final\InsurenceManagementSystemWebApi
2025-05-19 17:41:24.295 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/index.html - null null
2025-05-19 17:41:25.138 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/index.html - 200 null text/html;charset=utf-8 871.7944ms
2025-05-19 17:41:38.251 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - null null
2025-05-19 17:41:38.251 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/_vs/browserLink - null null
2025-05-19 17:41:38.265 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_framework/aspnetcore-browser-refresh.js - 200 16547 application/javascript; charset=utf-8 15.3313ms
2025-05-19 17:41:38.385 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/_vs/browserLink - 200 null text/javascript; charset=UTF-8 135.1668ms
2025-05-19 17:41:38.522 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - null null
2025-05-19 17:41:38.623 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 101.4041ms
2025-05-19 17:41:51.049 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/login - application/json 58
2025-05-19 17:41:51.067 +05:30 [WRN] Failed to determine the https port for redirect.
2025-05-19 17:41:51.074 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:41:51.113 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 17:41:53.129 +05:30 [INF] Executed DbCommand (62ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 17:41:53.561 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 17:41:53.577 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 2455.8956ms
2025-05-19 17:41:53.582 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:41:53.597 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Auth/login - 200 null application/json; charset=utf-8 2547.7061ms
2025-05-19 17:42:21.898 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5016/api/Admin/customers?page=1&size=10 - application/json 124
2025-05-19 17:42:21.954 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-05-19 17:42:21.957 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-05-19 17:42:21.959 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5016/api/Admin/customers?page=1&size=10 - 405 0 null 60.9787ms
2025-05-19 17:42:28.566 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - application/json 124
2025-05-19 17:42:28.579 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-05-19 17:42:28.586 +05:30 [INF] Route matched with {action = "GetAllCustomers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto]]] GetAllCustomers(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 17:42:28.626 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Address], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UserId]
FROM [Customers] AS [c]
2025-05-19 17:42:28.661 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 17:42:28.672 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi) in 84.2958ms
2025-05-19 17:42:28.675 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-05-19 17:42:28.678 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - 200 null application/json; charset=utf-8 111.8796ms
2025-05-19 17:43:18.805 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/login - application/json 66
2025-05-19 17:43:18.814 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:43:18.817 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 17:43:18.915 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 17:43:19.262 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[AgentId], [a].[ContactInfo], [a].[Name], [a].[UserId]
FROM [Agents] AS [a]
WHERE [a].[UserId] = @__userId_0
2025-05-19 17:43:19.284 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 17:43:19.287 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 467.6118ms
2025-05-19 17:43:19.289 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 17:43:19.291 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Auth/login - 200 null application/json; charset=utf-8 490.3663ms
2025-05-19 17:43:39.742 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - application/json 124
2025-05-19 17:43:39.759 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-05-19 17:43:39.771 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-05-19 17:43:39.773 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - 403 0 null 30.8725ms
2025-05-19 17:54:49.434 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Admin/available-policy - application/json 96
2025-05-19 17:54:49.445 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-05-19 17:54:49.450 +05:30 [INF] Route matched with {action = "AddAvailablePolicy", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAvailablePolicy(InsurenceManagementSystemWebApi.Applications.DTOs.AvailablePolicyRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 17:54:49.658 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AvailablePolicies] ([BasePremium], [CoverageDetails], [Name], [ValidityPeriod])
OUTPUT INSERTED.[AvailablePolicyId]
VALUES (@p0, @p1, @p2, @p3);
2025-05-19 17:54:49.697 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-05-19 17:54:49.700 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.AddAvailablePolicy (InsurenceManagementSystemWebApi) in 242.3253ms
2025-05-19 17:54:49.705 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.AddAvailablePolicy (InsurenceManagementSystemWebApi)'
2025-05-19 17:54:49.708 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Admin/available-policy - 200 null text/plain; charset=utf-8 273.927ms
2025-05-19 18:05:52.884 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5016/api/Auth/login - application/json 58
2025-05-19 18:05:52.895 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 18:05:52.897 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(InsurenceManagementSystemWebApi.Applications.DTOs.LoginRequestDto) on controller InsurenceManagementSystemWebApi.Controllers.AuthController (InsurenceManagementSystemWebApi).
2025-05-19 18:05:52.951 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__username_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[IsDeleted], [u].[PasswordHash], [u].[Username], [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
FROM [Users] AS [u]
LEFT JOIN [UserRoles] AS [u0] ON [u].[Id] = [u0].[UserId]
LEFT JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
WHERE [u].[Username] = @__username_0
2025-05-19 18:05:53.059 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.LoginResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 18:05:53.064 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi) in 165.3188ms
2025-05-19 18:05:53.067 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AuthController.Login (InsurenceManagementSystemWebApi)'
2025-05-19 18:05:53.071 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5016/api/Auth/login - 200 null application/json; charset=utf-8 186.6866ms
2025-05-19 18:06:21.943 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - application/json 124
2025-05-19 18:06:21.951 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-05-19 18:06:21.952 +05:30 [INF] Route matched with {action = "GetAllCustomers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto]]] GetAllCustomers(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 18:06:21.964 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Address], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UserId]
FROM [Customers] AS [c]
2025-05-19 18:06:21.966 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 18:06:21.968 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi) in 12.3043ms
2025-05-19 18:06:21.969 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-05-19 18:06:21.971 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - 200 null application/json; charset=utf-8 27.5428ms
2025-05-19 18:06:39.176 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - application/json 124
2025-05-19 18:06:39.189 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonReaderException: The input does not contain any JSON tokens. Expected the input to start with a valid JSON token, when isFinalBlock is true. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.Read()
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.IsReaderAtTokenType(Utf8JsonReader& reader, JsonTokenType tokenType, Boolean advanceReader)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateHeaderClaimSet(Byte[] bytes, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-05-19 18:06:39.235 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-05-19 18:06:39.237 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-05-19 18:06:39.243 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-19 18:06:39.245 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - 401 0 null 68.9112ms
2025-05-19 18:07:01.882 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - application/json 124
2025-05-19 18:07:01.900 +05:30 [INF] Executing endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-05-19 18:07:01.902 +05:30 [INF] Route matched with {action = "GetAllCustomers", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto]]] GetAllCustomers(Int32, Int32) on controller InsurenceManagementSystemWebApi.Controllers.AdminController (InsurenceManagementSystemWebApi).
2025-05-19 18:07:01.930 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CustomerId], [c].[Address], [c].[DateOfBirth], [c].[Email], [c].[Name], [c].[Phone], [c].[UserId]
FROM [Customers] AS [c]
2025-05-19 18:07:01.932 +05:30 [INF] Executing OkObjectResult, writing value of type 'InsurenceManagementSystemWebApi.Shared.Common.OperationResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.PagedResult`1[[InsurenceManagementSystemWebApi.Applications.DTOs.CustomerProfileResponseDto, InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], InsurenceManagementSystemWebApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-19 18:07:01.936 +05:30 [INF] Executed action InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi) in 27.5485ms
2025-05-19 18:07:01.940 +05:30 [INF] Executed endpoint 'InsurenceManagementSystemWebApi.Controllers.AdminController.GetAllCustomers (InsurenceManagementSystemWebApi)'
2025-05-19 18:07:01.943 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5016/api/Admin/customers?page=1&size=10 - 200 null application/json; charset=utf-8 60.5335ms
